<!doctype html>
<html>
<head>
<meta charset='UTF-8'><meta name='viewport' content='width=device-width initial-scale=1'>
<meta name="description" content="保持更新的QRSpeed词库第三方文档；详尽的QR变量&amp;函数工具书。">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href='https://fonts.loli.net/css?family=Open+Sans:400italic,700italic,700,400&subset=latin,latin-ext' rel='stylesheet' type='text/css' /><style type='text/css'>html {overflow-x: initial !important;}:root { --bg-color: #ffffff; --text-color: #333333; --select-text-bg-color: #B5D6FC; --select-text-font-color: auto; --monospace: "Lucida Console",Consolas,"Courier",monospace; --title-bar-height: 20px; }
.mac-os-11 { --title-bar-height: 28px; }
html { font-size: 14px; background-color: var(--bg-color); color: var(--text-color); font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; -webkit-font-smoothing: antialiased; }
body { margin: 0px; padding: 0px; height: auto; inset: 0px; font-size: 1rem; line-height: 1.42857143; overflow-x: hidden; background-image: inherit; background-size: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: inherit; tab-size: 4; background-position: inherit; background-repeat: inherit; }
iframe { margin: auto; }
a.url { word-break: break-all; }
a:active, a:hover { outline: 0px; }
.in-text-selection, ::selection { text-shadow: none; background: var(--select-text-bg-color); color: var(--select-text-font-color); }
#write { margin: 0px auto; height: auto; width: inherit; word-break: normal; word-wrap: break-word; position: relative; white-space: normal; overflow-x: visible; padding-top: 36px; }
#write.first-line-indent p { text-indent: 2em; }
#write.first-line-indent li p, #write.first-line-indent p * { text-indent: 0px; }
#write.first-line-indent li { margin-left: 2em; }
.for-image #write { padding-left: 8px; padding-right: 8px; }
body.typora-export { padding-left: 30px; padding-right: 30px; }
.typora-export .footnote-line, .typora-export li, .typora-export p { white-space: pre-wrap; }
.typora-export .task-list-item input { pointer-events: none; }
@media screen and (max-width: 500px) {
  body.typora-export { padding-left: 0px; padding-right: 0px; }
  #write { padding-left: 20px; padding-right: 20px; }
  .CodeMirror-sizer { margin-left: 0px !important; }
  .CodeMirror-gutters { display: none !important; }
}
#write li > figure:last-child { margin-bottom: 0.5rem; }
#write ol, #write ul { position: relative; }
img { max-width: 100%; vertical-align: middle; image-orientation: from-image; }
button, input, select, textarea { color: inherit; font-family: inherit; font-size: inherit; font-style: inherit; font-variant-caps: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; }
input[type="checkbox"], input[type="radio"] { line-height: normal; padding: 0px; }
*, ::after, ::before { box-sizing: border-box; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p, #write pre { width: inherit; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p { position: relative; }
p { line-height: inherit; }
h1, h2, h3, h4, h5, h6 { break-after: avoid-page; break-inside: avoid; orphans: 4; }
p { orphans: 4; }
h1 { font-size: 2rem; }
h2 { font-size: 1.8rem; }
h3 { font-size: 1.6rem; }
h4 { font-size: 1.4rem; }
h5 { font-size: 1.2rem; }
h6 { font-size: 1rem; }
.md-math-block, .md-rawblock, h1, h2, h3, h4, h5, h6, p { margin-top: 1rem; margin-bottom: 1rem; }
.hidden { display: none; }
.md-blockmeta { color: rgb(204, 204, 204); font-weight: 700; font-style: italic; }
a { cursor: pointer; }
sup.md-footnote { padding: 2px 4px; background-color: rgba(238, 238, 238, 0.7); color: rgb(85, 85, 85); border-radius: 4px; cursor: pointer; }
sup.md-footnote a, sup.md-footnote a:hover { color: inherit; text-transform: inherit; text-decoration: inherit; }
#write input[type="checkbox"] { cursor: pointer; width: inherit; height: inherit; }
figure { overflow-x: auto; margin: 1.2em 0px; max-width: calc(100% + 16px); padding: 0px; }
figure > table { margin: 0px; }
tr { break-inside: avoid; break-after: auto; }
thead { display: table-header-group; }
table { border-collapse: collapse; border-spacing: 0px; width: 100%; overflow: auto; break-inside: auto; text-align: left; }
table.md-table td { min-width: 32px; }
.CodeMirror-gutters { border-right-width: 0px; background-color: inherit; }
.CodeMirror-linenumber { }
.CodeMirror { text-align: left; }
.CodeMirror-placeholder { opacity: 0.3; }
.CodeMirror pre { padding: 0px 4px; }
.CodeMirror-lines { padding: 0px; }
div.hr:focus { cursor: none; }
#write pre { white-space: pre-wrap; }
#write.fences-no-line-wrapping pre { white-space: pre; }
#write pre.ty-contain-cm { white-space: normal; }
.CodeMirror-gutters { margin-right: 4px; }
.md-fences { font-size: 0.9rem; display: block; break-inside: avoid; text-align: left; overflow: visible; white-space: pre; background-image: inherit; background-size: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: inherit; position: relative !important; background-position: inherit; background-repeat: inherit; }
.md-fences-adv-panel { width: 100%; margin-top: 10px; text-align: center; padding-top: 0px; padding-bottom: 8px; overflow-x: auto; }
#write .md-fences.mock-cm { white-space: pre-wrap; }
.md-fences.md-fences-with-lineno { padding-left: 0px; }
#write.fences-no-line-wrapping .md-fences.mock-cm { white-space: pre; overflow-x: auto; }
.md-fences.mock-cm.md-fences-with-lineno { padding-left: 8px; }
.CodeMirror-line, twitterwidget { break-inside: avoid; }
.footnotes { opacity: 0.8; font-size: 0.9rem; margin-top: 1em; margin-bottom: 1em; }
.footnotes + .footnotes { margin-top: 0px; }
.md-reset { margin: 0px; padding: 0px; border: 0px; outline: 0px; vertical-align: top; text-decoration: none; text-shadow: none; float: none; position: static; width: auto; height: auto; white-space: nowrap; cursor: inherit; line-height: normal; font-weight: 400; text-align: left; box-sizing: content-box; direction: ltr; background-position: 0px 0px; }
li div { padding-top: 0px; }
blockquote { margin: 1rem 0px; }
li .mathjax-block, li p { margin: 0.5rem 0px; }
li blockquote { margin: 1rem 0px; }
li { margin: 0px; position: relative; }
blockquote > :last-child { margin-bottom: 0px; }
blockquote > :first-child, li > :first-child { margin-top: 0px; }
.footnotes-area { color: rgb(136, 136, 136); margin-top: 0.714rem; padding-bottom: 0.143rem; white-space: normal; }
#write .footnote-line { white-space: pre-wrap; }
@media print {
  body, html { border: 1px solid transparent; height: 99%; break-after: avoid; break-before: avoid; font-variant-ligatures: no-common-ligatures; }
  #write { margin-top: 0px; padding-top: 0px; border-color: transparent !important; }
  .typora-export * { print-color-adjust: exact; }
  .typora-export #write { break-after: avoid; }
  .typora-export #write::after { height: 0px; }
  .is-mac table { break-inside: avoid; }
  .typora-export-show-outline .typora-export-sidebar { display: none; }
}
.footnote-line { margin-top: 0.714em; font-size: 0.7em; }
a img, img a { cursor: pointer; }
pre.md-meta-block { font-size: 0.8rem; min-height: 0.8rem; white-space: pre-wrap; background-color: rgb(204, 204, 204); display: block; overflow-x: hidden; }
p > .md-image:only-child:not(.md-img-error) img, p > img:only-child { display: block; margin: auto; }
#write.first-line-indent p > .md-image:only-child:not(.md-img-error) img { left: -2em; position: relative; }
p > .md-image:only-child { display: inline-block; width: 100%; }
#write .MathJax_Display { margin: 0.8em 0px 0px; }
.md-math-block { width: 100%; }
.md-math-block:not(:empty)::after { display: none; }
.MathJax_ref { fill: currentcolor; }
[contenteditable="true"]:active, [contenteditable="true"]:focus, [contenteditable="false"]:active, [contenteditable="false"]:focus { outline: 0px; box-shadow: none; }
.md-task-list-item { position: relative; list-style-type: none; }
.task-list-item.md-task-list-item { padding-left: 0px; }
.md-task-list-item > input { position: absolute; top: 0px; left: 0px; margin-left: -1.2em; margin-top: calc(1em - 10px); border: none; }
.math { font-size: 1rem; }
.md-toc { min-height: 3.58rem; position: relative; font-size: 0.9rem; border-radius: 10px; }
.md-toc-content { position: relative; margin-left: 0px; }
.md-toc-content::after, .md-toc::after { display: none; }
.md-toc-item { display: block; color: rgb(65, 131, 196); }
.md-toc-item a { text-decoration: none; }
.md-toc-inner:hover { text-decoration: underline; }
.md-toc-inner { display: inline-block; cursor: pointer; }
.md-toc-h1 .md-toc-inner { margin-left: 0px; font-weight: 700; }
.md-toc-h2 .md-toc-inner { margin-left: 2em; }
.md-toc-h3 .md-toc-inner { margin-left: 4em; }
.md-toc-h4 .md-toc-inner { margin-left: 6em; }
.md-toc-h5 .md-toc-inner { margin-left: 8em; }
.md-toc-h6 .md-toc-inner { margin-left: 10em; }
@media screen and (max-width: 48em) {
  .md-toc-h3 .md-toc-inner { margin-left: 3.5em; }
  .md-toc-h4 .md-toc-inner { margin-left: 5em; }
  .md-toc-h5 .md-toc-inner { margin-left: 6.5em; }
  .md-toc-h6 .md-toc-inner { margin-left: 8em; }
}
a.md-toc-inner { font-size: inherit; font-style: inherit; font-weight: inherit; line-height: inherit; }
.footnote-line a:not(.reversefootnote) { color: inherit; }
.md-attr { display: none; }
.md-fn-count::after { content: "."; }
code, pre, samp, tt { font-family: var(--monospace); }
kbd { margin: 0px 0.1em; padding: 0.1em 0.6em; font-size: 0.8em; color: rgb(36, 39, 41); background-color: rgb(255, 255, 255); border: 1px solid rgb(173, 179, 185); border-radius: 3px; box-shadow: rgba(12, 13, 14, 0.2) 0px 1px 0px, rgb(255, 255, 255) 0px 0px 0px 2px inset; white-space: nowrap; vertical-align: middle; }
.md-comment { color: rgb(162, 127, 3); opacity: 0.6; font-family: var(--monospace); }
code { text-align: left; }
a.md-print-anchor { white-space: pre !important; border: none !important; display: inline-block !important; position: absolute !important; width: 1px !important; right: 0px !important; outline: 0px !important; text-shadow: initial !important; background-position: 0px 0px !important; }
.os-windows.monocolor-emoji .md-emoji { font-family: "Segoe UI Symbol", sans-serif; }
.md-diagram-panel > svg { max-width: 100%; }
[lang="flow"] svg, [lang="mermaid"] svg { max-width: 100%; height: auto; }
[lang="mermaid"] .node text { font-size: 1rem; }
table tr th { border-bottom-width: 0px; }
video { max-width: 100%; display: block; margin: 0px auto; }
iframe { max-width: 100%; width: 100%; border: none; }
.highlight td, .highlight tr { border: 0px; }
mark { background-color: rgb(255, 255, 0); color: rgb(0, 0, 0); }
.md-html-inline .md-plain, .md-html-inline strong, mark .md-inline-math, mark strong { color: inherit; }
.md-expand mark .md-meta { opacity: 0.3 !important; }
mark .md-meta { color: rgb(0, 0, 0); }
@media print {
  .typora-export h1, .typora-export h2, .typora-export h3, .typora-export h4, .typora-export h5, .typora-export h6 { break-inside: avoid; }
}
.md-diagram-panel .messageText { stroke: none !important; }
.md-diagram-panel .start-state { fill: var(--node-fill); }
.md-diagram-panel .edgeLabel rect { opacity: 1 !important; }
.md-fences.md-fences-math { font-size: 1em; }
.md-fences-advanced:not(.md-focus) { padding: 0px; white-space: nowrap; border: 0px; }
.md-fences-advanced:not(.md-focus) { background-image: inherit; background-size: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: inherit; background-position: inherit; background-repeat: inherit; }
.typora-export-show-outline .typora-export-content { max-width: 1440px; margin: auto; display: flex; flex-direction: row; }
.typora-export-sidebar { width: 300px; font-size: 0.8rem; margin-top: 80px; margin-right: 18px; }
.typora-export-show-outline #write { --webkit-flex: 2; flex: 2 1 0%; }
.typora-export-sidebar .outline-content { position: fixed; top: 0px; max-height: 100%; overflow: hidden auto; padding-bottom: 30px; padding-top: 60px; width: 300px; }
@media screen and (max-width: 1024px) {
  .typora-export-sidebar, .typora-export-sidebar .outline-content { width: 240px; }
}
@media screen and (max-width: 800px) {
  .typora-export-sidebar { display: none; }
}
.outline-content li, .outline-content ul { margin-left: 0px; margin-right: 0px; padding-left: 0px; padding-right: 0px; list-style: none; }
.outline-content ul { margin-top: 0px; margin-bottom: 0px; }
.outline-content strong { font-weight: 400; }
.outline-expander { width: 1rem; height: 1.428571429rem; position: relative; display: table-cell; vertical-align: middle; cursor: pointer; padding-left: 4px; }
.outline-expander::before { content: ""; position: relative; font-family: Ionicons; display: inline-block; font-size: 8px; vertical-align: middle; }
.outline-item { padding-top: 3px; padding-bottom: 3px; cursor: pointer; }
.outline-expander:hover::before { content: ""; }
.outline-h1 > .outline-item { padding-left: 0px; }
.outline-h2 > .outline-item { padding-left: 1em; }
.outline-h3 > .outline-item { padding-left: 2em; }
.outline-h4 > .outline-item { padding-left: 3em; }
.outline-h5 > .outline-item { padding-left: 4em; }
.outline-h6 > .outline-item { padding-left: 5em; }
.outline-label { cursor: pointer; display: table-cell; vertical-align: middle; text-decoration: none; color: inherit; }
.outline-label:hover { text-decoration: underline; }
.outline-item:hover { border-color: rgb(245, 245, 245); background-color: var(--item-hover-bg-color); }
.outline-item:hover { margin-left: -28px; margin-right: -28px; border-left-width: 28px; border-left-style: solid; border-left-color: transparent; border-right-width: 28px; border-right-style: solid; border-right-color: transparent; }
.outline-item-single .outline-expander::before, .outline-item-single .outline-expander:hover::before { display: none; }
.outline-item-open > .outline-item > .outline-expander::before { content: ""; }
.outline-children { display: none; }
.info-panel-tab-wrapper { display: none; }
.outline-item-open > .outline-children { display: block; }
.typora-export .outline-item { padding-top: 1px; padding-bottom: 1px; }
.typora-export .outline-item:hover { margin-right: -8px; border-right-width: 8px; border-right-style: solid; border-right-color: transparent; }
.typora-export .outline-expander::before { content: "+"; font-family: inherit; top: -1px; }
.typora-export .outline-expander:hover::before, .typora-export .outline-item-open > .outline-item > .outline-expander::before { content: "−"; }
.typora-export-collapse-outline .outline-children { display: none; }
.typora-export-collapse-outline .outline-item-open > .outline-children, .typora-export-no-collapse-outline .outline-children { display: block; }
.typora-export-no-collapse-outline .outline-expander::before { content: "" !important; }
.typora-export-show-outline .outline-item-active > .outline-item .outline-label { font-weight: 700; }
.md-inline-math-container mjx-container { zoom: 0.95; }


.CodeMirror { height: auto; }
.CodeMirror.cm-s-inner { background-image: inherit; background-size: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: inherit; background-position: inherit; background-repeat: inherit; }
.CodeMirror-scroll { overflow: auto hidden; z-index: 3; }
.CodeMirror-gutter-filler, .CodeMirror-scrollbar-filler { background-color: rgb(255, 255, 255); }
.CodeMirror-gutters { border-right-width: 1px; border-right-style: solid; border-right-color: rgb(221, 221, 221); background-image: inherit; background-size: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: inherit; white-space: nowrap; background-position: inherit; background-repeat: inherit; }
.CodeMirror-linenumber { padding: 0px 3px 0px 5px; text-align: right; color: rgb(153, 153, 153); }
.cm-s-inner .cm-keyword { color: rgb(119, 0, 136); }
.cm-s-inner .cm-atom, .cm-s-inner.cm-atom { color: rgb(34, 17, 153); }
.cm-s-inner .cm-number { color: rgb(17, 102, 68); }
.cm-s-inner .cm-def { color: rgb(0, 0, 255); }
.cm-s-inner .cm-variable { color: rgb(0, 0, 0); }
.cm-s-inner .cm-variable-2 { color: rgb(0, 85, 170); }
.cm-s-inner .cm-variable-3 { color: rgb(0, 136, 85); }
.cm-s-inner .cm-string { color: rgb(170, 17, 17); }
.cm-s-inner .cm-property { color: rgb(0, 0, 0); }
.cm-s-inner .cm-operator { color: rgb(152, 26, 26); }
.cm-s-inner .cm-comment, .cm-s-inner.cm-comment { color: rgb(170, 85, 0); }
.cm-s-inner .cm-string-2 { color: rgb(255, 85, 0); }
.cm-s-inner .cm-meta { color: rgb(85, 85, 85); }
.cm-s-inner .cm-qualifier { color: rgb(85, 85, 85); }
.cm-s-inner .cm-builtin { color: rgb(51, 0, 170); }
.cm-s-inner .cm-bracket { color: rgb(153, 153, 119); }
.cm-s-inner .cm-tag { color: rgb(17, 119, 0); }
.cm-s-inner .cm-attribute { color: rgb(0, 0, 204); }
.cm-s-inner .cm-header, .cm-s-inner.cm-header { color: rgb(0, 0, 255); }
.cm-s-inner .cm-quote, .cm-s-inner.cm-quote { color: rgb(0, 153, 0); }
.cm-s-inner .cm-hr, .cm-s-inner.cm-hr { color: rgb(153, 153, 153); }
.cm-s-inner .cm-link, .cm-s-inner.cm-link { color: rgb(0, 0, 204); }
.cm-negative { color: rgb(221, 68, 68); }
.cm-positive { color: rgb(34, 153, 34); }
.cm-header, .cm-strong { font-weight: 700; }
.cm-del { text-decoration: line-through; }
.cm-em { font-style: italic; }
.cm-link { text-decoration: underline; }
.cm-error { color: red; }
.cm-invalidchar { color: red; }
.cm-constant { color: rgb(38, 139, 210); }
.cm-defined { color: rgb(181, 137, 0); }
div.CodeMirror span.CodeMirror-matchingbracket { color: rgb(0, 255, 0); }
div.CodeMirror span.CodeMirror-nonmatchingbracket { color: rgb(255, 34, 34); }
.cm-s-inner .CodeMirror-activeline-background { background-image: inherit; background-size: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: inherit; background-position: inherit; background-repeat: inherit; }
.CodeMirror { position: relative; overflow: hidden; }
.CodeMirror-scroll { height: 100%; outline: 0px; position: relative; box-sizing: content-box; background-image: inherit; background-size: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: inherit; background-position: inherit; background-repeat: inherit; }
.CodeMirror-sizer { position: relative; }
.CodeMirror-gutter-filler, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-vscrollbar { position: absolute; z-index: 6; display: none; outline: 0px; }
.CodeMirror-vscrollbar { right: 0px; top: 0px; overflow: hidden; }
.CodeMirror-hscrollbar { bottom: 0px; left: 0px; overflow: auto hidden; }
.CodeMirror-scrollbar-filler { right: 0px; bottom: 0px; }
.CodeMirror-gutter-filler { left: 0px; bottom: 0px; }
.CodeMirror-gutters { position: absolute; left: 0px; top: 0px; padding-bottom: 10px; z-index: 3; overflow-y: hidden; }
.CodeMirror-gutter { white-space: normal; height: 100%; box-sizing: content-box; padding-bottom: 30px; margin-bottom: -32px; display: inline-block; }
.CodeMirror-gutter-wrapper { position: absolute; z-index: 4; border: none !important; background-position: 0px 0px !important; }
.CodeMirror-gutter-background { position: absolute; top: 0px; bottom: 0px; z-index: 4; }
.CodeMirror-gutter-elt { position: absolute; cursor: default; z-index: 4; }
.CodeMirror-lines { cursor: text; }
.CodeMirror pre { border-radius: 0px; border-width: 0px; font-family: inherit; font-size: inherit; margin: 0px; white-space: pre; word-wrap: normal; color: inherit; z-index: 2; position: relative; overflow: visible; background-position: 0px 0px; }
.CodeMirror-wrap pre { word-wrap: break-word; white-space: pre-wrap; word-break: normal; }
.CodeMirror-code pre { border-right-width: 30px; border-right-style: solid; border-right-color: transparent; width: fit-content; }
.CodeMirror-wrap .CodeMirror-code pre { border-right-style: none; width: auto; }
.CodeMirror-linebackground { position: absolute; inset: 0px; z-index: 0; }
.CodeMirror-linewidget { position: relative; z-index: 2; overflow: auto; }
.CodeMirror-wrap .CodeMirror-scroll { overflow-x: hidden; }
.CodeMirror-measure { position: absolute; width: 100%; height: 0px; overflow: hidden; visibility: hidden; }
.CodeMirror-measure pre { position: static; }
.CodeMirror div.CodeMirror-cursor { position: absolute; visibility: hidden; border-right-style: none; width: 0px; }
.CodeMirror div.CodeMirror-cursor { visibility: hidden; }
.CodeMirror-focused div.CodeMirror-cursor { visibility: inherit; }
.cm-searching { background-color: rgba(255, 255, 0, 0.4); }
span.cm-underlined { text-decoration: underline; }
span.cm-strikethrough { text-decoration: line-through; }
.cm-tw-syntaxerror { color: rgb(255, 255, 255); background-color: rgb(153, 0, 0); }
.cm-tw-deleted { text-decoration: line-through; }
.cm-tw-header5 { font-weight: 700; }
.cm-tw-listitem:first-child { padding-left: 10px; }
.cm-tw-box { border-style: solid; border-right-width: 1px; border-bottom-width: 1px; border-left-width: 1px; border-color: inherit; border-top-width: 0px !important; }
.cm-tw-underline { text-decoration: underline; }
@media print {
  .CodeMirror div.CodeMirror-cursor { visibility: hidden; }
}


:root {
    --side-bar-bg-color: #fafafa;
    --control-text-color: #777;
}

@include-when-export url(https://fonts.loli.net/css?family=Open+Sans:400italic,700italic,700,400&subset=latin,latin-ext);

/* open-sans-regular - latin-ext_latin */
  /* open-sans-italic - latin-ext_latin */
    /* open-sans-700 - latin-ext_latin */
    /* open-sans-700italic - latin-ext_latin */
  html {
    font-size: 16px;
    -webkit-font-smoothing: antialiased;
}

body {
    font-family: "Open Sans","Clear Sans", "Helvetica Neue", Helvetica, Arial, 'Segoe UI Emoji', sans-serif;
    color: rgb(51, 51, 51);
    line-height: 1.6;
}

#write {
    max-width: 860px;
  	margin: 0 auto;
  	padding: 30px;
    padding-bottom: 100px;
}

@media only screen and (min-width: 1400px) {
	#write {
		max-width: 1024px;
	}
}

@media only screen and (min-width: 1800px) {
	#write {
		max-width: 1200px;
	}
}

#write > ul:first-child,
#write > ol:first-child{
    margin-top: 30px;
}

a {
    color: #4183C4;
}
h1,
h2,
h3,
h4,
h5,
h6 {
    position: relative;
    margin-top: 1rem;
    margin-bottom: 1rem;
    font-weight: bold;
    line-height: 1.4;
    cursor: text;
}
h1:hover a.anchor,
h2:hover a.anchor,
h3:hover a.anchor,
h4:hover a.anchor,
h5:hover a.anchor,
h6:hover a.anchor {
    text-decoration: none;
}
h1 tt,
h1 code {
    font-size: inherit;
}
h2 tt,
h2 code {
    font-size: inherit;
}
h3 tt,
h3 code {
    font-size: inherit;
}
h4 tt,
h4 code {
    font-size: inherit;
}
h5 tt,
h5 code {
    font-size: inherit;
}
h6 tt,
h6 code {
    font-size: inherit;
}
h1 {
    font-size: 2.25em;
    line-height: 1.2;
    border-bottom: 1px solid #eee;
}
h2 {
    font-size: 1.75em;
    line-height: 1.225;
    border-bottom: 1px solid #eee;
}

/*@media print {
    .typora-export h1,
    .typora-export h2 {
        border-bottom: none;
        padding-bottom: initial;
    }

    .typora-export h1::after,
    .typora-export h2::after {
        content: "";
        display: block;
        height: 100px;
        margin-top: -96px;
        border-top: 1px solid #eee;
    }
}*/

h3 {
    font-size: 1.5em;
    line-height: 1.43;
}
h4 {
    font-size: 1.25em;
}
h5 {
    font-size: 1em;
}
h6 {
   font-size: 1em;
    color: #777;
}
p,
blockquote,
ul,
ol,
dl,
table{
    margin: 0.8em 0;
}
li>ol,
li>ul {
    margin: 0 0;
}
hr {
    height: 2px;
    padding: 0;
    margin: 16px 0;
    background-color: #e7e7e7;
    border: 0 none;
    overflow: hidden;
    box-sizing: content-box;
}

li p.first {
    display: inline-block;
}
ul,
ol {
    padding-left: 30px;
}
ul:first-child,
ol:first-child {
    margin-top: 0;
}
ul:last-child,
ol:last-child {
    margin-bottom: 0;
}
blockquote {
    border-left: 4px solid #dfe2e5;
    padding: 0 15px;
    color: #777777;
}
blockquote blockquote {
    padding-right: 0;
}
table {
    padding: 0;
    word-break: initial;
}
table tr {
    border: 1px solid #dfe2e5;
    margin: 0;
    padding: 0;
}
table tr:nth-child(2n),
thead {
    background-color: #f8f8f8;
}
table th {
    font-weight: bold;
    border: 1px solid #dfe2e5;
    border-bottom: 0;
    margin: 0;
    padding: 6px 13px;
}
table td {
    border: 1px solid #dfe2e5;
    margin: 0;
    padding: 6px 13px;
}
table th:first-child,
table td:first-child {
    margin-top: 0;
}
table th:last-child,
table td:last-child {
    margin-bottom: 0;
}

.CodeMirror-lines {
    padding-left: 4px;
}

.code-tooltip {
    box-shadow: 0 1px 1px 0 rgba(0,28,36,.3);
    border-top: 1px solid #eef2f2;
}

.md-fences,
code,
tt {
    border: 1px solid #e7eaed;
    background-color: #f8f8f8;
    border-radius: 3px;
    padding: 0;
    padding: 2px 4px 0px 4px;
    font-size: 0.9em;
}

code {
    background-color: #f3f4f4;
    padding: 0 2px 0 2px;
}

.md-fences {
    margin-bottom: 15px;
    margin-top: 15px;
    padding-top: 8px;
    padding-bottom: 6px;
}


.md-task-list-item > input {
  margin-left: -1.3em;
}

@media print {
    html {
        font-size: 13px;
    }
    table,
    pre {
        page-break-inside: avoid;
    }
    pre {
        word-wrap: break-word;
    }
}

.md-fences {
	background-color: #f8f8f8;
}
#write pre.md-meta-block {
	padding: 1rem;
    font-size: 85%;
    line-height: 1.45;
    background-color: #f7f7f7;
    border: 0;
    border-radius: 3px;
    color: #777777;
    margin-top: 0 !important;
}

.mathjax-block>.code-tooltip {
	bottom: .375rem;
}

.md-mathjax-midline {
    background: #fafafa;
}

#write>h3.md-focus:before{
	left: -1.5625rem;
	top: .375rem;
}
#write>h4.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
#write>h5.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
#write>h6.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
.md-image>.md-meta {
    /*border: 1px solid #ddd;*/
    border-radius: 3px;
    padding: 2px 0px 0px 4px;
    font-size: 0.9em;
    color: inherit;
}

.md-tag {
    color: #a7a7a7;
    opacity: 1;
}

.md-toc { 
    margin-top:20px;
    padding-bottom:20px;
}

.sidebar-tabs {
    border-bottom: none;
}

#typora-quick-open {
    border: 1px solid #ddd;
    background-color: #f8f8f8;
}

#typora-quick-open-item {
    background-color: #FAFAFA;
    border-color: #FEFEFE #e5e5e5 #e5e5e5 #eee;
    border-style: solid;
    border-width: 1px;
}

/** focus mode */
.on-focus-mode blockquote {
    border-left-color: rgba(85, 85, 85, 0.12);
}

header, .context-menu, .megamenu-content, footer{
    font-family: "Segoe UI", "Arial", sans-serif;
}

.file-node-content:hover .file-node-icon,
.file-node-content:hover .file-node-open-state{
    visibility: visible;
}

.mac-seamless-mode #typora-sidebar {
    background-color: #fafafa;
    background-color: var(--side-bar-bg-color);
}

.md-lang {
    color: #b4654d;
}

/*.html-for-mac {
    --item-hover-bg-color: #E6F0FE;
}*/

#md-notification .btn {
    border: 0;
}

.dropdown-menu .divider {
    border-color: #e5e5e5;
    opacity: 0.4;
}

.ty-preferences .window-content {
    background-color: #fafafa;
}

.ty-preferences .nav-group-item.active {
    color: white;
    background: #999;
}

.menu-item-container a.menu-style-btn {
    background-color: #f5f8fa;
    background-image: linear-gradient( 180deg , hsla(0, 0%, 100%, 0.8), hsla(0, 0%, 100%, 0)); 
}


 @media print { @page {margin: 0 0 0 0;} body.typora-export {padding-left: 0; padding-right: 0;} #write {padding:0;}}
</style><title>变量大全pro</title>
</head>
<body class='typora-export'><div class='typora-export-content'>
<div id='write'  class=''><h1 id='qrdicpro-变量大全p-stylefont-size15px安♡玖特别版p'><span>QRDicPro 变量大全</span><p style='font-size:15px'><span>安♡玖特别版</span></p></h1><p><span>作者：</span><img alt="An avatar" src="icons/an!.png" style="width:24px;height:24px;" /><span>An!♡</span><img alt="Annie avatar" src="icons/annie!.png" style="width:24px;height:24px;" /><span>阿玖</span></p><hr /><blockquote><p><span>如何在网页内进行搜索？</span></p><p><span>智能手机：</span>
<span>一般是 </span><code>菜单 → 页内查找</code><span> 或者 </span><code>菜单 → 工具箱 → 页内查找</code><span>；</span>
<span>你也可以使用 </span><a href='https://www.baidu.com'><span>百度</span></a><span> 搜索你所使用的浏览器的页内搜索方法。</span></p><p><span>Windows：</span><code>Ctrl</code><span> + </span><code>F</code></p><p><span>macOS：</span><code>⌘command</code><span> + </span><code>F</code></p></blockquote><script>
var r = new XMLHttpRequest();r.open("get", "log.json");r.send();r.onload = function () {eval("var j="+r.responseText);document.getElementById("date").innerHTML=j[0][0];}
</script><blockquote><p><em><span id="date"><span>0000/0/0 Edit0</span></span></em><span> 新增&amp;修改：</span><a href='log.html'><span>更新日志</span></a></p></blockquote><blockquote><p><strong><span>测试版本的变量大全已经托管于 Github，你可以在 </span><a href='https://github.com/IceeAn/qrbldq'><span>这里</span></a><span> 找到本项目。测试版本对应的网址为 </span><a href='https://gp.icean.moe'><span>gp.icean.moe</span></a><span>。</span></strong></p><p><span>如有疏漏之处欢迎提交 issue。</span></p></blockquote><h2 id='目录'><span>目录</span></h2><div class='md-toc' mdtype='toc'><p class="md-toc-content" role="list"><span role="listitem" class="md-toc-item md-toc-h1" data-ref="n0"><a class="md-toc-inner" href="#qrdicpro-变量大全p-stylefont-size15px安♡玖特别版p">QRDicPro 变量大全安♡玖特别版</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n11"><a class="md-toc-inner" href="#目录">目录</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n14"><a class="md-toc-inner" href="#变量">变量</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n15"><a class="md-toc-inner" href="#发言者相关变量">发言者相关变量</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n17"><a class="md-toc-inner" href="#qq">%QQ%</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n24"><a class="md-toc-inner" href="#昵称">%昵称%</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n30"><a class="md-toc-inner" href="#title">%Title%</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n35"><a class="md-toc-inner" href="#发言内容相关变量">发言内容相关变量</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n36"><a class="md-toc-inner" href="#群号">%群号%</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n42"><a class="md-toc-inner" href="#groupname">%GroupName%</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n47"><a class="md-toc-inner" href="#参数1">%参数1%</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n53"><a class="md-toc-inner" href="#括号1">%括号1%</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n63"><a class="md-toc-inner" href="#参数-1">%参数-1%</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n64"><a class="md-toc-inner" href="#括号0">%括号0%</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n67"><a class="md-toc-inner" href="#撤回">%撤回% </a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n70"><a class="md-toc-inner" href="#at0">%AT0%</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n77"><a class="md-toc-inner" href="#img0">%IMG0%</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n86"><a class="md-toc-inner" href="#face0">%FACE0%</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n91"><a class="md-toc-inner" href="#facenew0">%FACENEW0%</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n93"><a class="md-toc-inner" href="#facepro0">%FACEPRO0%</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n96"><a class="md-toc-inner" href="#bub0-1">%BUB0%</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n99"><a class="md-toc-inner" href="#json0-1">%JSON0%</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n102"><a class="md-toc-inner" href="#xml0-1">%XML0%</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n105"><a class="md-toc-inner" href="#fimg0-1">%FIMG0%</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n108"><a class="md-toc-inner" href="#atnum">%ATNUM%</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n111"><a class="md-toc-inner" href="#imgnum">%IMGNUM%</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n114"><a class="md-toc-inner" href="#facenum">%FACENUM%</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n115"><a class="md-toc-inner" href="#facenewnum">%FACENEWNUM%</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n116"><a class="md-toc-inner" href="#facepronum">%FACEPRONUM%</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n119"><a class="md-toc-inner" href="#bub0-2">%BUB0%</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n122"><a class="md-toc-inner" href="#json0-2">%JSON0%</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n125"><a class="md-toc-inner" href="#jsonnum-1">%JSONNUM%</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n127"><a class="md-toc-inner" href="#xml0-2">%XML0%</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n130"><a class="md-toc-inner" href="#xmlnum-1">%XMLNUM%</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n132"><a class="md-toc-inner" href="#fimg0-2">%FIMG0%</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n134"><a class="md-toc-inner" href="#fimgnum-1">%FIMGNUM%</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n139"><a class="md-toc-inner" href="#jsonnum-2">%JSONNUM%</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n140"><a class="md-toc-inner" href="#xmlnum-2">%XMLNUM%</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n143"><a class="md-toc-inner" href="#fimgnum-2">%FIMGNUM%</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n154"><a class="md-toc-inner" href="#系统变量">系统变量</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n158"><a class="md-toc-inner" href="#主人">%主人%</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n161"><a class="md-toc-inner" href="#管理员">%管理员%</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n166"><a class="md-toc-inner" href="#robot">%Robot%</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n169"><a class="md-toc-inner" href="#robotauth">%RobotAuth%</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n175"><a class="md-toc-inner" href="#time">%Time%</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n180"><a class="md-toc-inner" href="#ndtime">%NDTime%</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n185"><a class="md-toc-inner" href="#robotruntime">%RobotRunTime%</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n190"><a class="md-toc-inner" href="#其他变量">其他变量</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n192"><a class="md-toc-inner" href="#msgbar">%Msgbar%</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n195"><a class="md-toc-inner" href="#status">%Status%</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n204"><a class="md-toc-inner" href="#adminuin">%Adminuin%</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n207"><a class="md-toc-inner" href="#adminname">%Adminname%</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n210"><a class="md-toc-inner" href="#inviteename">%Inviteename%</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n213"><a class="md-toc-inner" href="#skey">%Skey%</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n218"><a class="md-toc-inner" href="#json">%Json%</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n223"><a class="md-toc-inner" href="#value">%Value%</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n229"><a class="md-toc-inner" href="#type">%Type%</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n235"><a class="md-toc-inner" href="#代码运行时间">%代码运行时间%</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n241"><a class="md-toc-inner" href="#reqid">%Reqid%</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n245"><a class="md-toc-inner" href="#函数">函数</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n254"><a class="md-toc-inner" href="#消息内容操作函数">消息内容操作函数</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n258"><a class="md-toc-inner" href="#±at-qq±">±at %QQ%±</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n269"><a class="md-toc-inner" href="#±at-0±">±at 0±</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n272"><a class="md-toc-inner" href="#±rep-msgbar±±strmsg-参数-1±">±rep %Msgbar%±±strmsg %参数-1%±</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n281"><a class="md-toc-inner" href="#±anony-匿名±">±anony 匿名±</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n286"><a class="md-toc-inner" href="#±face-187±">±face 187±</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n288"><a class="md-toc-inner" href="#±facenew-277±">±facenew 277±</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n290"><a class="md-toc-inner" href="#±facepro-4194325±">±facepro 4194325±</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n296"><a class="md-toc-inner" href="#±bub-1±-授权专用">±bub 1± <code>授权专用</code></a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n305"><a class="md-toc-inner" href="#±fmsg-acomtencentrandomwordsresid随机数-2000-2004mmainprompt闪字±">±fmsg {"a":"com.tencent.randomwords","resid":$随机数 2000-2004$,"m":"main","prompt":"闪字"}±</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n310"><a class="md-toc-inner" href="#文件操作函数">文件操作函数</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n312"><a class="md-toc-inner" href="#写-教程群号测试-m-0">$写 教程/%群号%/测试 m 0$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n320"><a class="md-toc-inner" href="#读-教程群号测试-m-0">$读 教程/%群号%/测试 m 0$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n326"><a class="md-toc-inner" href="#写文件-sdcardqrexample-内容">$写文件 /sdcard/QR/example 内容$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n330"><a class="md-toc-inner" href="#读文件-sdcardqrexample">$读文件 /sdcard/QR/example$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n335"><a class="md-toc-inner" href="#下载-sdcardqrexample-httpsaawwaawbaiducom">$下载 /sdcard/QR/example https://www.baidu.com$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n342"><a class="md-toc-inner" href="#下载-sdcardqrexample-httpsaawwaawbaiducom-json格式请求头-a">$下载 /sdcard/QR/example https://www.baidu.com {JSON格式请求头} A$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n345"><a class="md-toc-inner" href="#删除-sdcardqrexample">$删除 /sdcard/QR/example$</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n351"><a class="md-toc-inner" href="#文本处理函数">文本处理函数</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n356"><a class="md-toc-inner" href="#替换-𒑜-文本𒑜被替换内容𒑜替换后内容">$替换 𒑜 文本𒑜被替换内容𒑜替换后内容$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n360"><a class="md-toc-inner" href="#正则-𒑜-文本𒑜正则表达式𒑜替换后内容">$正则 𒑜 文本𒑜正则表达式𒑜替换后内容$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n366"><a class="md-toc-inner" href="#字符串-replacefirst-文本-正则表达式-替换后内容">$字符串 replaceFirst 文本 正则表达式 替换后内容$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n369"><a class="md-toc-inner" href="#取中间-𒑜-文本𒑜开头𒑜结尾">$取中间 𒑜 文本𒑜开头𒑜结尾$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n375"><a class="md-toc-inner" href="#取括号-内容-正则表达式">$取括号 内容 正则表达式$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n383"><a class="md-toc-inner" href="#转大写-括号1">$转大写 %括号1%$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n385"><a class="md-toc-inner" href="#转小写-括号1">$转小写 %括号1%$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n388"><a class="md-toc-inner" href="#字符串-length-文本">$字符串 length 文本$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n393"><a class="md-toc-inner" href="#字符串-substring-文本-开始位置">$字符串 substring 文本 开始位置$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n398"><a class="md-toc-inner" href="#字符串-substring-文本-开始位置-结束位置">$字符串 substring 文本 开始位置 结束位置$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n401"><a class="md-toc-inner" href="#字符串-indexof-文本-查找内容">$字符串 indexOf 文本 查找内容$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n406"><a class="md-toc-inner" href="#字符串-lastindexof-文本-查找内容">$字符串 lastIndexOf 文本 查找内容$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n410"><a class="md-toc-inner" href="#概率随机-概率数组-内容数组">$概率随机 概率数组 内容数组$</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n416"><a class="md-toc-inner" href="#消息发送函数">消息发送函数</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n418"><a class="md-toc-inner" href="#发送">$发送$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n428"><a class="md-toc-inner" href="#发送-群-群号">$发送 群 %群号%$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n432"><a class="md-toc-inner" href="#发送-好友-qq">$发送 好友 %QQ%$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n436"><a class="md-toc-inner" href="#发送-临时-群号-qq">$发送 临时 %群号% %QQ%$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n444"><a class="md-toc-inner" href="#发送-群-msg-群号-内容">$发送 群 msg %群号% 内容$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n446"><a class="md-toc-inner" href="#发送-临时-msg-群号-qq-内容">$发送 临时 msg %群号% %QQ% 内容$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n451"><a class="md-toc-inner" href="#±ptt音频路径或链接±">±ptt=音频路径或链接±</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n453"><a class="md-toc-inner" href="#发送-群-ptt-群号-音频路径或链接">$发送 群 ptt %群号% 音频路径或链接$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n459"><a class="md-toc-inner" href="#a-idcardpostacard1-xml卡片代码-授权专用">card:1 xml卡片代码 <code>授权专用</code></a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n461"><a class="md-toc-inner" href="#发送-群-xml-群号-xml卡片代码-授权专用">$发送 群 xml %群号% xml卡片代码$ <code>授权专用</code></a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n463"><a class="md-toc-inner" href="#发送-临时-xml-群号-xml卡片代码-授权专用">$发送 临时 xml %群号% xml卡片代码$ <code>授权专用</code></a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n466"><a class="md-toc-inner" href="#json-json卡片代码授权专用">json: JSON卡片代码<code>授权专用</code></a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n468"><a class="md-toc-inner" href="#发送-群-json-群号-json卡片代码-授权专用">$发送 群 json %群号% json卡片代码$ <code>授权专用</code></a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n470"><a class="md-toc-inner" href="#发送-临时-json-群号-qq-json卡片代码-授权专用">$发送 临时 json %群号% %QQ% json卡片代码$ <code>授权专用</code></a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n473"><a class="md-toc-inner" href="#±img图片路径或链接或md5±">±img=图片路径或链接或MD5±</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n479"><a class="md-toc-inner" href="#发送-群-img-群号-图片路径或链接或md5">$发送 群 img %群号% 图片路径或链接或MD5$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n481"><a class="md-toc-inner" href="#发送-临时-img-群号-qq-图片路径或链接或md5-授权专用">$发送 临时 img %群号% %QQ% 图片路径或链接或MD5$ <code>授权专用</code></a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n484"><a class="md-toc-inner" href="#±fimg图片路径或链接或md5±">±fimg=图片路径或链接或MD5±</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n486"><a class="md-toc-inner" href="#发送-群-fimg-群号-图片路径或链接或md5">$发送 群 fimg %群号% 图片路径或链接或MD5$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n489"><a class="md-toc-inner" href="#±shake-1±">±shake 1±</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n492"><a class="md-toc-inner" href="#qqqq群操作函数">QQ/QQ群操作函数</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n494"><a class="md-toc-inner" href="#点赞-qq-10">$点赞 %QQ% 10$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n499"><a class="md-toc-inner" href="#禁-群号-qq-禁言时间">$禁 %群号% %QQ% 禁言时间$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n506"><a class="md-toc-inner" href="#改-群号-qq-新群昵称">$改 %群号% %QQ% 新群昵称$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n511"><a class="md-toc-inner" href="#群头衔-群号-qq-头衔">$群头衔 %群号% %QQ% 头衔$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n516"><a class="md-toc-inner" href="#踢-群号-qq">$踢 %群号% %QQ%$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n519"><a class="md-toc-inner" href="#全体禁言-开-群号">$全体禁言 开 %群号%$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n521"><a class="md-toc-inner" href="#全体禁言-关-群号">$全体禁言 关 %群号%$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n524"><a class="md-toc-inner" href="#撤回-群号-msgbar">$撤回 %群号% %Msgbar%$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n527"><a class="md-toc-inner" href="#申请群-申请群号-理由授权专用">$申请群 申请群号 理由$<code>授权专用</code></a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n532"><a class="md-toc-inner" href="#退出群-退出群号授权专用">$退出群 退出群号$<code>授权专用</code></a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n535"><a class="md-toc-inner" href="#获取群状态-群号">$获取群状态 %群号%$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n538"><a class="md-toc-inner" href="#进群审核-群号-qq-31-12-拒绝理由">$进群审核 %群号% %QQ% 31 12 拒绝理由$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n542"><a class="md-toc-inner" href="#进群审核-群号-qq-2001-11-0">$进群审核 %群号% %QQ% 2001 11 0$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n547"><a class="md-toc-inner" href="#获取群列表">$获取群列表$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n550"><a class="md-toc-inner" href="#获取群成员-群号">$获取群成员 %群号%$</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n553"><a class="md-toc-inner" href="#代码相关函数">代码相关函数</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n554"><a class="md-toc-inner" href="#调用-1000-内容">$调用 1000 内容$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n563"><a class="md-toc-inner" href="#回调-内容">$回调 内容$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n570"><a class="md-toc-inner" href="#常调-内容">$常调 内容$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n573"><a class="md-toc-inner" href="#回调内部-内容">$回调内部 内容$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n576"><a class="md-toc-inner" href="#执行-括号1">$执行 %括号1%$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n583"><a class="md-toc-inner" href="#延迟执行-1000-括号1">$延迟执行 1000 %括号1%$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n586"><a class="md-toc-inner" href="#变量-a-123456">$变量 A 123456$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n591"><a class="md-toc-inner" href="#全局变量-a-name">$全局变量 A Name$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n594"><a class="md-toc-inner" href="#取变量-a">$取变量 A$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n597"><a class="md-toc-inner" href="#lable">:lable</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n598"><a class="md-toc-inner" href="#jump-lable">$jump :lable$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n611"><a class="md-toc-inner" href="#输出为-内容">$输出为 内容$</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n615"><a class="md-toc-inner" href="#类变量函数">类变量函数</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n618"><a class="md-toc-inner" href="#随机数-a-b">$随机数 %a% %b%$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n625"><a class="md-toc-inner" href="#群昵称-群号-qq">$群昵称 %群号% %QQ%$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n631"><a class="md-toc-inner" href="#管理员-qq">$管理员 %QQ%$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n639"><a class="md-toc-inner" href="#图片链接-img0">$图片链接 %IMG0%$</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n644"><a class="md-toc-inner" href="#访问函数">访问函数</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n648"><a class="md-toc-inner" href="#访问-链接">$访问 链接$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n649"><a class="md-toc-inner" href="#访问-get-链接">$访问 GET 链接$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n657"><a class="md-toc-inner" href="#访问-setget-json格式请求头-链接">$访问 SETGET {JSON格式请求头} 链接$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n660"><a class="md-toc-inner" href="#访问-setgetft-json格式请求头-a-链接">$访问 SETGETFT {JSON格式请求头} A 链接$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n663"><a class="md-toc-inner" href="#访问-post-网址-post参数">$访问 POST 网址 post参数$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n666"><a class="md-toc-inner" href="#访问-setpost-json格式请求头-链接-post参数">$访问 SETPOST {JSON格式请求头} 链接 post参数$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n669"><a class="md-toc-inner" href="#访问-setpostft-json格式请求头-a-链接-post参数">$访问 SETPOSTFT {JSON格式请求头} A 链接 post参数$</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n672"><a class="md-toc-inner" href="#时间函数">时间函数</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n692"><a class="md-toc-inner" href="#时间-yyyy-mm-dd">$时间 yyyy-MM-dd$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n696"><a class="md-toc-inner" href="#时间格式-ndtime-yyyy-mm-dd">$时间格式 %NDTime% yyyy-MM-dd$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n699"><a class="md-toc-inner" href="#格式时间戳-2021-1-1-yyyy-mm-dd">$格式时间戳 2021-1-1 yyyy-MM-dd$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n702"><a class="md-toc-inner" href="#时间操作-毫秒级时间戳-操作类型-添加次数">$时间操作 毫秒级时间戳 操作类型 添加次数$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n710"><a class="md-toc-inner" href="#时间戳差-初始毫秒级时间戳-终止毫秒级时间戳">$时间戳差 初始毫秒级时间戳 终止毫秒级时间戳$</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n713"><a class="md-toc-inner" href="#运算函数">运算函数</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n718"><a class="md-toc-inner" href="#字符长度-括号1">$字符长度 %括号1%$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n723"><a class="md-toc-inner" href="#字节长度-括号1">$字节长度 %括号1%$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n728"><a class="md-toc-inner" href="#urlencoder-括号1">$URLEncoder %括号1%$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n732"><a class="md-toc-inner" href="#urldecoder-括号1">$URLDecoder %括号1%$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n735"><a class="md-toc-inner" href="#hexencoder-括号1">$HexEncoder %括号1%$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n739"><a class="md-toc-inner" href="#hexdecoder-括号1">$HexDecoder %括号1%$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n742"><a class="md-toc-inner" href="#unicodeencoder-括号1">$UnicodeEncoder %括号1%$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n744"><a class="md-toc-inner" href="#unicodedecoder-括号1">$UnicodeDecoder %括号1%$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n747"><a class="md-toc-inner" href="#base64encoder-括号1">$Base64Encoder %括号1%$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n749"><a class="md-toc-inner" href="#base64decoder-括号1">$Base64Decoder %括号1%$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n752"><a class="md-toc-inner" href="#md5-内容">$MD5 内容$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n757"><a class="md-toc-inner" href="#crc32-内容">$CRC32 内容$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n762"><a class="md-toc-inner" href="#gtk-skey">$GTK %Skey%$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n763"><a class="md-toc-inner" href="#bkn-skey">$BKN %Skey%$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n766"><a class="md-toc-inner" href="#sig-内容">$SIG 内容$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n771"><a class="md-toc-inner" href="#随机字符-内容-长度">$随机字符 内容 长度$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n779"><a class="md-toc-inner" href="#数字转中文-数字">$数字转中文 数字$</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n785"><a class="md-toc-inner" href="#json-操作函数">JSON 操作函数</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n789"><a class="md-toc-inner" href="#a1">@A[1]</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n796"><a class="md-toc-inner" href="#json-添加-a-1-100">$JSON 添加 A 1 100$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n803"><a class="md-toc-inner" href="#json-添加-a-100">$JSON 添加 A 100$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n808"><a class="md-toc-inner" href="#json-删除-a-1-1">$JSON 删除 A 1$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n815"><a class="md-toc-inner" href="#json-长度-a-1">$JSON 长度 A$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n822"><a class="md-toc-inner" href="#json-获取-a-1-1">$JSON 获取 A 1$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n831"><a class="md-toc-inner" href="#json-包含-a-100">$JSON 包含 A 100$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n837"><a class="md-toc-inner" href="#json-包含-a-value-100">$JSON 包含 A value 100$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n844"><a class="md-toc-inner" href="#json-包含-a-key-100">$JSON 包含 A key 100$</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n853"><a class="md-toc-inner" href="#外部java调用">外部Java调用</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n857"><a class="md-toc-inner" href="#bsh-xxxxjava-a">$BSH xxxx.java %a%$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n860"><a class="md-toc-inner" href="#bsh-xxxxjava-a-b">$BSH xxxx.java %a% %b%$</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n863"><a class="md-toc-inner" href="#其他函数">其他函数</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n864"><a class="md-toc-inner" href="#设置群状态-群号-开">$设置群状态 %群号% 开$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n865"><a class="md-toc-inner" href="#设置群状态-群号-关">$设置群状态 %群号% 关$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n870"><a class="md-toc-inner" href="#添加管理员-qq">$添加管理员 %QQ%$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n871"><a class="md-toc-inner" href="#删除管理员-qq">$删除管理员 %QQ%$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n876"><a class="md-toc-inner" href="#词库操作-添加-词库文件名">$词库操作 添加 词库文件名$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n877"><a class="md-toc-inner" href="#词库操作-删除-词库文件名">$词库操作 删除 词库文件名$</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n880"><a class="md-toc-inner" href="#画布">画布</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n881"><a class="md-toc-inner" href="#画布-声明-a-长-宽">$画布 声明 A 长 宽$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n885"><a class="md-toc-inner" href="#画布-颜色-a-16进制颜色码">$画布 颜色 A 16进制颜色码$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n889"><a class="md-toc-inner" href="#画布-文字-a-文字-x-y-16进制颜色码-size-字体文件路径可选）">$画布 文字 A 文字 X Y 16进制颜色码 size 字体文件路径（可选）$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n900"><a class="md-toc-inner" href="#画布-文字换行-a-文字-自动换行长度-x-y-16进制颜色码-size-字体文件路径可选）">$画布 文字换行 A 文字 自动换行长度 X Y 16进制颜色码 size 字体文件路径（可选）$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n912"><a class="md-toc-inner" href="#图片参数-图片的绝对路径">$图片参数 图片的绝对路径$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n919"><a class="md-toc-inner" href="#画布-图片-a-图片绝对路径-x-y-w-h-x1-y1-x2-y2">$画布 图片 A 图片绝对路径 X Y W H X1 Y1 X2 Y2$</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n934"><a class="md-toc-inner" href="#画布-保存-a-图片保存绝对路径">$画布 保存 A 图片保存绝对路径$</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n940"><a class="md-toc-inner" href="#转义字符">转义字符</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n946"><a class="md-toc-inner" href="#特殊关键词前缀">特殊关键词前缀</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n954"><a class="md-toc-inner" href="#特殊事件">特殊事件</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n956"><a class="md-toc-inner" href="#系统">[系统]</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n959"><a class="md-toc-inner" href="#退群">[退群]</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n962"><a class="md-toc-inner" href="#撤回xxx-授权专用">[撤回]xxx <code>授权专用</code></a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n964"><a class="md-toc-inner" href="#红包">[红包]</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n969"><a class="md-toc-inner" href="#戳一戳">[戳一戳]</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n978"><a class="md-toc-inner" href="#上下管理">[上下管理]</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n985"><a class="md-toc-inner" href="#消息来源">消息来源</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n986"><a class="md-toc-inner" href="#群xxx">[群]xxx</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n987"><a class="md-toc-inner" href="#好友xxx">[好友]xxx</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n988"><a class="md-toc-inner" href="#临时xxx">[临时]xxx</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n991"><a class="md-toc-inner" href="#其他前缀">其他前缀</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n992"><a class="md-toc-inner" href="#内部xxx">[内部]xxx</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n995"><a class="md-toc-inner" href="#初始化">[初始化]</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n999"><a class="md-toc-inner" href="#群初始化">[群初始化]</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n1002"><a class="md-toc-inner" href="#总处理">[总处理]</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n1007"><a class="md-toc-inner" href="#运算符">运算符</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n1008"><a class="md-toc-inner" href="#数学运算符">数学运算符</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n1009"><a class="md-toc-inner" href="#算术运算格式">算术运算格式</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n1014"><a class="md-toc-inner" href="#基础运算符">基础运算符</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n1020"><a class="md-toc-inner" href="#其他运算符">其他运算符</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n1040"><a class="md-toc-inner" href="#高级运算">高级运算</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n1045"><a class="md-toc-inner" href="#舍入模式">舍入模式</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n1089"><a class="md-toc-inner" href="#逻辑运算符与条件语句">逻辑运算符与条件语句</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n1090"><a class="md-toc-inner" href="#关系运算符">关系运算符</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n1092"><a class="md-toc-inner" href="#逻辑运算符">逻辑运算符</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n1099"><a class="md-toc-inner" href="#条件语句关键字">条件语句关键字</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n1100"><a class="md-toc-inner" href="#如果">如果:</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n1103"><a class="md-toc-inner" href="#正则">正则:</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n1110"><a class="md-toc-inner" href="#如果尾">如果尾</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n1111"><a class="md-toc-inner" href="#正则尾">正则尾</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n1118"><a class="md-toc-inner" href="#其他关键字">其他关键字</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n1122"><a class="md-toc-inner" href="#">:</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n1126"><a class="md-toc-inner" href="#±">±</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n1133"><a class="md-toc-inner" href="#其他知识">其他知识</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n1134"><a class="md-toc-inner" href="#a-idregexa正则表达式基础">正则表达式基础</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n1135"><a class="md-toc-inner" href="#简介">简介</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n1141"><a class="md-toc-inner" href="#元字符">元字符</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n1142"><a class="md-toc-inner" href="#匹配某些字符">匹配某些字符</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n1158"><a class="md-toc-inner" href="#数量限制">数量限制</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n1161"><a class="md-toc-inner" href="#正则表达式触发词实例">正则表达式触发词实例</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n1168"><a class="md-toc-inner" href="#转义符-">转义符 <code>\</code></a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n1187"><a class="md-toc-inner" href="#完整的正则表达式教程">完整的正则表达式教程</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n1190"><a class="md-toc-inner" href="#qr-中的-json">QR 中的 JSON</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n1191"><a class="md-toc-inner" href="#关于-json">关于 JSON</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n1198"><a class="md-toc-inner" href="#json-操作代码示例">JSON 操作代码示例</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n1199"><a class="md-toc-inner" href="#json-添加-a-1">$JSON 添加 A 1$</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n1203"><a class="md-toc-inner" href="#json-添加-a-1-1">$JSON 添加 A 1 1$</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n1207"><a class="md-toc-inner" href="#json-获取-a-1-2">$JSON 获取 A 1$</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n1211"><a class="md-toc-inner" href="#json-删除-a-1-2">$JSON 删除 A 1$</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n1215"><a class="md-toc-inner" href="#json-长度-a-2">$JSON 长度 A$</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n1219"><a class="md-toc-inner" href="#qq-官方-api">QQ 官方 API</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n1221"><a class="md-toc-inner" href="#±imghttpq2qlogocnheadimgdldstuinqqspec5±">±img=http://q2.qlogo.cn/headimg_dl?dst_uin=%QQ%&amp;spec=5±</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n1224"><a class="md-toc-inner" href="#±imghttppqlogocngh群号群号±">±img=http://p.qlogo.cn/gh/%群号%/%群号%/±</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n1227"><a class="md-toc-inner" href="#时间变量详解">时间变量详解</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n1238"><a class="md-toc-inner" href="#基础时间变量">基础时间变量</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n1253"><a class="md-toc-inner" href="#更多时间变量">更多时间变量</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n1346"><a class="md-toc-inner" href="#未整理杂项">未整理&amp;杂项</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n1347"><a class="md-toc-inner" href="#红包转账相关">红包/转账相关</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n1349"><a class="md-toc-inner" href="#转账检测">转账检测</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n1352"><a class="md-toc-inner" href="#查红包">查红包</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n1355"><a class="md-toc-inner" href="#卡片代码示例">卡片代码示例</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n1360"><a class="md-toc-inner" href="#json-卡片">JSON 卡片</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n1363"><a class="md-toc-inner" href="#xml-卡片">XML 卡片</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n1366"><a class="md-toc-inner" href="#废弃失效不明意义部分">废弃&amp;失效&amp;不明意义部分</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n1367"><a class="md-toc-inner" href="#±ximgtype随机数40000-40005±"><del>±ximgtype=%随机数40000-40005%±</del></a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n1371"><a class="md-toc-inner" href="#number"><del>%Number%</del></a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n1373"><a class="md-toc-inner" href="#pid"><del>%Pid%</del></a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n1375"><a class="md-toc-inner" href="#strmsg"><del>%Strmsg%</del></a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n1377"><a class="md-toc-inner" href="#±nick-测试昵称±"><del>±nick 测试昵称±</del></a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n1379"><a class="md-toc-inner" href="#±title-测试±"><del>±title 测试±</del></a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n1385"><a class="md-toc-inner" href="#抢红包">抢红包</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n1388"><a class="md-toc-inner" href="#发红包">发红包</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n1394"><a class="md-toc-inner" href="#关于">关于</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n1395"><a class="md-toc-inner" href="#关于变量大全编写">关于变量大全编写</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n1396"><a class="md-toc-inner" href="#作者">作者</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n1402"><a class="md-toc-inner" href="#编辑工具">编辑工具</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n1405"><a class="md-toc-inner" href="#关于共享">关于共享</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n1406"><a class="md-toc-inner" href="#许可协议">许可协议   </a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n1411"><a class="md-toc-inner" href="#想要制作-变量大全安♡玖特别版-的网页镜像">想要制作 <code>变量大全安♡玖特别版</code> 的网页镜像？</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n1414"><a class="md-toc-inner" href="#想要以文件形式分享-变量大全安♡玖特别版">想要以文件形式分享 <code>变量大全安♡玖特别版</code>？</a></span></p></div><hr /><h2 id='变量'><span>变量</span></h2><h3 id='发言者相关变量'><span>发言者相关变量</span></h3><hr /><h4 id='qq'><span>%QQ%</span></h4><p><span>获取发言者的 </span><em><span>QQ 号</span></em><span>。</span></p><p><span>备选方案：</span><code>%Code%</code><span> </span><code>%Uin%</code></p><blockquote><p><span>所有匿名用户的发言，</span><code>%QQ%</code><span> 为 80000000。</span></p><p><span>其中</span><code>%Code%</code><span> 可以获取部分特殊触发 QQ，参照</span><a href='#戳一戳'><span>戳一戳</span></a><span>。</span></p></blockquote><hr /><h4 id='昵称'><span>%昵称%</span></h4><p><span>获取发言者的 </span><em><span>群昵称</span></em><span>。</span></p><p><span>备选方案：</span><code>%UinName%</code></p><blockquote><p><span>要获取真正的「昵称」，可以参考 </span><a href='#群昵称-群号-qq'><code>$群昵称 $</code></a><span> 函数。</span></p></blockquote><hr /><h4 id='title'><span>%Title%</span></h4><p><span>获取群内 </span><em><span>专属头衔</span></em><span>。</span></p><blockquote><p><span>无专属头衔时返回空值。</span></p></blockquote><hr /><h3 id='发言内容相关变量'><span>发言内容相关变量</span></h3><h4 id='群号'><span>%群号%</span></h4><p><span>获取本群的 </span><em><span>群号</span></em><span>。</span></p><p><span>备选方案：</span><code>%群%</code><span> </span><code>%Groupid%</code></p><blockquote><p><span>临时会话中，</span><code>%群号%</code><span> 为本群群号；</span>
<span>好友会话中，</span><code>%群号%</code><span> 为 0。</span></p></blockquote><hr /><h4 id='groupname'><span>%GroupName%</span></h4><p><span>获取本群的 </span><em><span>群名</span></em><span>。</span></p><blockquote><p><span>在 </span><code>[系统]</code><span> </span><code>[撤回]</code><span> 与 </span><code>[上下管理]</code><span> 前缀的代码中</span><strong><span>无法正常获取</span></strong><span>。</span></p></blockquote><hr /><h4 id='参数1'><span>%参数1%</span></h4><p><span>触发词中第一个空格以后，第二个空格或结尾以前的内容。</span></p><p><code>%参数2</code><span> </span><code>%参数3%</code><span>以此类推。</span></p><blockquote><p><del><span>自从有了 </span><a href='#括号1'><code>%括号1%</code></a><span> ，谁还用 </span><code>%参数1%</code><span> 啊</span></del></p></blockquote><hr /><h4 id='括号1'><span>%括号1%</span></h4><p><span>触发词中，从左到右第一对括号中的内容。括号顺序以前半括号 </span><code>(</code><span> 的出现顺序为准。</span></p><p><code>%括号2</code><span> </span><code>%括号3%</code><span>以此类推。</span></p><blockquote><p><span>你可以尝试以下代码。</span></p></blockquote><blockquote><p><span>(测试(测测)和(试试))</span>
<span>括号1为：%括号1%</span><span>\</span><span>n</span>
<span>括号2为：%括号2%</span><span>\</span><span>n</span>
<span>括号3为：%括号3%</span></p><p><em><span>发送 测试测测和试试 以触发。</span></em></p></blockquote><p><span>想要具体了解？请学习 </span><strong><a href='#regex'><span>正则表达式</span></a><span>-捕获组</span></strong><span>。</span></p><hr /><h4 id='参数-1'><span>%参数-1%</span></h4><h4 id='括号0'><span>%括号0%</span></h4><p><span>获取发言的全部文本内容。</span></p><hr /><h4 id='撤回'><span>%撤回% </span></h4><p><span>获取撤回的全部文本内容</span></p><hr /><h4 id='at0'><span>%AT0%</span></h4><p><span>获取被 @ 的第一个成员的 QQ 号。</span></p><p><span>第二个成员的 QQ 号为 </span><code>%AT1%</code><span>，以此类推。</span></p><blockquote><p><span>获取不到 </span><code>%AT0%</code><span>，</span><code>%AT1%</code><span> …时，对应变量值为0；</span></p><p><span>@全体成员时，</span><code>%AT0%</code><span>，</span><code>%AT1%</code><span> …均为0。</span></p></blockquote><hr /><h4 id='img0'><span>%IMG0%</span></h4><p><span>获取「图片代码</span><sup><span>①</span></sup><span>」，可以在发图时使用。</span></p><p><span>第二张图片的代码为 </span><code>%IMG1%</code><span>，以此类推。</span></p><blockquote><p><code>%IMG0%</code><span> 的核心是一串 32 位的大写字母 + 数字，即图片的 MD5</span><sup class='md-footnote'><a href='#dfref-footnote-1' name='ref-footnote-1'>1</a></sup><span>码。</span>
<span>手机、电脑；群聊、私聊发图得到的 </span><code>%IMG0%</code><span> 有一定差异。</span></p><p><span>因此，想要使用 MD5 对比图片是否一致，可以使用以下方法处理 </span><code>%IMG0%</code><span>：</span>
<span>$正则 @ %IMG0%@/.*-|</span><span>[</span><span>^\dA-Z]@$</span>
<span>它可以提取任意「图片代码」中的 MD5 部分。</span></p></blockquote><blockquote><p><small><span>① 变量大全中指图片 MD5 码经过一定程度修饰后的结果。具体形式可能为：</span></small>
<small><em><span>MD5</span></em><span>.</span><em><span>图片扩展名</span></em></small>
<small><span>{UUID格式的MD5}.图片扩展名</span></small>
<small><span>/</span><em><span>发送者QQ号</span></em><span>-</span><em><span>一串数字</span></em><span>-</span><em><span>MD5</span></em></small></p></blockquote><hr /><h4 id='face0'><span>%FACE0%</span></h4><p><span>获取消息中第一个普通表情的编号。</span></p><p><span>第二个普通表情的编号为 </span><code>%FACE1%</code><span>，以此类推。</span></p><blockquote><p><span>只能获取较为早期的 QQ 表情，较晚出现的 QQ 表情（如：</span><code>/元宝</code><span> </span><code>/菜狗</code><span> 等）无法获取。</span></p></blockquote><h4 id='facenew0'><span>%FACENEW0%</span></h4><p><span>同上，但只能获取 </span><code>%FACE0%</code><span> 获取不到的、较晚出现的 QQ 表情。</span></p><h4 id='facepro0'><span>%FACEPRO0%</span></h4><p><span>同上，但只能获取表情页无法直接找到的、被称为「会员小表情」的 QQ 表情（如：</span><code>/流星</code><span> </span><code>/猫爪</code><span> ）。</span></p><hr /><h4 id='bub0-1'><span>%BUB0%</span></h4><p><span>获取发言者 气泡 ID</span><sup class='md-footnote'><a href='#dfref-footnote-2' name='ref-footnote-2'>2</a></sup><span>。</span></p><hr /><h4 id='json0-1'><span>%JSON0%</span></h4><p><span>获取 </span><a href='#json-卡片'><span>JSON 卡片</span></a><span> 代码。代码不存在时为空。</span></p><hr /><h4 id='xml0-1'><span>%XML0%</span></h4><p><span>获取 </span><a href='#xml-卡片'><span>XML 卡片</span></a><span> 代码。代码不存在时为空。</span></p><hr /><h4 id='fimg0-1'><span>%FIMG0%</span></h4><p><span>获取闪照的「图片代码」，类似 </span><code>%IMG0%</code><span>。</span></p><hr /><h4 id='atnum'><span>%ATNUM%</span></h4><p><span>获取消息中 @ 操作的总数量。</span></p><hr /><h4 id='imgnum'><span>%IMGNUM%</span></h4><p><span>获取消息中图片的总数量。</span></p><hr /><h4 id='facenum'><span>%FACENUM%</span></h4><h4 id='facenewnum'><span>%FACENEWNUM%</span></h4><h4 id='facepronum'><span>%FACEPRONUM%</span></h4><p><span>获取消息中对应种类表情的总数量。</span></p><hr /><h4 id='bub0-2'><span>%BUB0%</span></h4><p><span>获取发言者 气泡 ID</span><sup class='md-footnote'><a href='#dfref-footnote-2-1' name='ref-footnote-2-1'>2</a></sup><span>。</span></p><hr /><h4 id='json0-2'><span>%JSON0%</span></h4><p><span>获取 </span><a href='#json-卡片'><span>JSON 卡片</span></a><span> 代码。代码不存在时为空。</span></p><hr /><h4 id='jsonnum-1'><span>%JSONNUM%</span></h4><hr /><h4 id='xml0-2'><span>%XML0%</span></h4><p><span>获取 </span><a href='#xml-卡片'><span>XML 卡片</span></a><span> 代码。代码不存在时为空。</span></p><hr /><h4 id='xmlnum-1'><span>%XMLNUM%</span></h4><hr /><h4 id='fimg0-2'><span>%FIMG0%</span></h4><p><span>获取修饰后的闪照的 MD5</span><sup class='md-footnote'><a href='#dfref-footnote-1-1' name='ref-footnote-1-1'>1</a></sup><span> 码，类似 </span><code>%IMG0%</code><span>。</span></p><h4 id='fimgnum-1'><span>%FIMGNUM%</span></h4><hr /><blockquote><p><span>部分用法示例：</span></p><p><span>[\s\S]*</span>
<span>如果:%JSON0%!=</span>
<span>捕获到JSON卡片：%JSON0%</span>
<span>如果尾</span>
<span>如果:%XML0%!=</span>
<span>捕获到XML卡片：%XML0%</span>
<span>如果尾</span>
<span>如果:%FIMG0%!=</span>
<span>捕获到闪照：%FIMG0%</span>
<span>如果尾</span></p></blockquote><h4 id='jsonnum-2'><span>%JSONNUM%</span></h4><h4 id='xmlnum-2'><span>%XMLNUM%</span></h4><p><span>获取消息中对应类型卡片代码的数量。</span></p><hr /><h4 id='fimgnum-2'><span>%FIMGNUM%</span></h4><p><span>获取消息中闪照的数量。</span></p><blockquote><p><span>部分 NUM 变量（如 </span><code>%FIMGNUM%</code><span> ）一般情况下只能为 0 或 1，但是也允许其他值出现。</span></p><p><span>比如 QR 在一条消息中添加多条闪照内容，其他 QR 机器人就可以得到超过 1 的 </span><code>%FIMGNUM%</code><span> 并获取未被显示的图片的「图片代码」。</span></p></blockquote><hr /><blockquote><p><span>部分用法示例：</span></p></blockquote><blockquote><p><span>[\s\S]*</span>
<span>如果:%JSON0%!=</span>
<span>捕获到JSON卡片：%JSON0%</span>
<span>如果尾</span>
<span>如果:%XML0%!=</span>
<span>捕获到XML卡片：%XML0%</span>
<span>如果尾</span>
<span>如果:%FIMG0%!=</span>
<span>捕获到闪照：%FIMG0%</span>
<span>如果尾</span></p></blockquote><hr /><h3 id='系统变量'><span>系统变量</span></h3><blockquote><p><span>写了一年了我都没给它们找到一个好名字。</span></p></blockquote><hr /><h4 id='主人'><span>%主人%</span></h4><p><span>获取 QR 词库插件中设置的「主人」QQ 号。</span></p><hr /><h4 id='管理员'><span>%管理员%</span></h4><p><span>获取 QR 词库插件中设置的「管理员」，返回</span><strong><span>数组形式</span></strong><span>。</span></p><blockquote><p><span>不建议萌新使用，萌新可以参考 </span><a href='#管理员-qq'><code>$管理员 $</code></a><span> 函数。</span></p></blockquote><hr /><h4 id='robot'><span>%Robot%</span></h4><p><span>获取当前登录的机器人的 QQ 号。</span></p><hr /><h4 id='robotauth'><span>%RobotAuth%</span></h4><p><span>判断本机器人 QQ 是否在 QR 授权。</span></p><blockquote><p><code>%RobotAuth%</code><span> 为 0，说明未授权；</span></p><p><code>%RobotAuth%</code><span> 为 1，说明己授权。</span></p></blockquote><hr /><h4 id='time'><span>%Time%</span></h4><p><span>获取当前服务器 UNIX 时间戳</span><sup class='md-footnote'><a href='#dfref-footnote-3' name='ref-footnote-3'>3</a></sup><span>。</span></p><blockquote><p><span>网络时间，不受系统时间影响。</span></p></blockquote><hr /><h4 id='ndtime'><span>%NDTime%</span></h4><p><span>获取当前系统 </span><em><span>毫秒级</span></em><span> 时间戳。</span></p><blockquote><p><span>本地时间，不联网。因此，修改系统时间会引起 </span><code>%NDTime%</code><span> 变化。</span></p></blockquote><hr /><h4 id='robotruntime'><span>%RobotRunTime%</span></h4><p><span>获取QR主程序本次打开时的 </span><em><span>毫秒级</span></em><span> 时间戳。</span></p><blockquote><p><span>可用于计算连续运行时间。</span></p></blockquote><hr /><h3 id='其他变量'><span>其他变量</span></h3><hr /><h4 id='msgbar'><span>%Msgbar%</span></h4><p><span>消息的群内唯一 ID，每群单独计算，每一条消息的 </span><code>%Msgbar%</code><span> 是上一条消息的 </span><code>%Msgbar%</code><span> + 1。</span></p><hr /><h4 id='status'><span>%Status%</span></h4><p><span>消息的状态码。</span></p><blockquote><p><span>常用 </span><code>%Status%</code></p></blockquote><blockquote><p><code>%Status%</code><span>==</span><code>33</code><span> 进群；</span>
<code>%Status%</code><span>==</span><code>34</code><span> 被邀请的人进群；</span>
<code>%Status%</code><span>==</span><code>84</code><span> 申请进群；</span>
<code>%Status%</code><span>==</span><code>87</code><span> 被邀请的人申请进群；</span>
<code>%Status%</code><span>==</span><code>82</code><span> 群聊消息；</span>
<code>%Status%</code><span>==</span><code>166</code><span> 好友消息；</span>
<code>%Status%</code><span>==</span><code>141</code><span> 群临时消息。</span></p></blockquote><blockquote><p><span>关于邀请和进群的 </span><code>%Status%</code><span> 可能并不准确。</span></p></blockquote><hr /><h4 id='adminuin'><span>%Adminuin%</span></h4><p><span>进行群管理操作的管理员的 QQ 号。</span></p><hr /><h4 id='adminname'><span>%Adminname%</span></h4><p><span>进行群管理操作的管理员的群昵称。</span></p><hr /><h4 id='inviteename'><span>%Inviteename%</span></h4><p><span>获取退群者昵称</span></p><hr /><h4 id='skey'><span>%Skey%</span></h4><p><span>获取机器人 Skey。</span></p><blockquote><p><span>需要在 </span><code>QR主程序→插件列表→长按词库插件</code><span> 弹出的界面勾选 Skey 授权。</span></p></blockquote><hr /><h4 id='json'><span>%Json%</span></h4><p><span>获取机器人 Pskey，</span><a href='#qr-中的-json'><span>JSON</span></a><span> 格式。</span></p><blockquote><p><span>需要在 </span><code>QR主程序→插件列表→长按词库插件</code><span> 弹出的界面勾选 Pskey 授权。</span></p></blockquote><hr /><h4 id='value'><span>%Value%</span></h4><p><span>在 </span><a href='#上下管理'><code>[上下管理]</code></a><span> 中使用。</span></p><blockquote><p><code>%Value%</code><span> 为 1 时，</span><code>%QQ%</code><span> 被任命群管理员；</span></p><p><code>%Value%</code><span> 为 0 时，</span><code>%QQ%</code><span> 被取消群管理员。</span></p></blockquote><hr /><h4 id='type'><span>%Type%</span></h4><p><span>消息类型。官方插件示例中有详细介绍。</span></p><blockquote><p><span>词库中很少用到。</span></p><p><span>部分反馈类型 0为群，1为好友，2为讨论组，3为系统，4为临时会话，19为群撤回。</span></p></blockquote><hr /><h4 id='代码运行时间'><span>%代码运行时间%</span></h4><p><span>本触发词的代码从开始运行到现在所经过的时间。</span></p><p><span>返回一个 58 位小数，但小数部分至多只有小数点后 9 位以内的数字有意义。</span></p><blockquote><p><span>因为手机CPU的时钟周期才 10</span><sup><span>-10</span></sup><span> 数量级。</span></p></blockquote><hr /><h4 id='reqid'><span>%Reqid%</span></h4><p><span>获取特殊消息ID。</span></p><p><span>如戳一戳/群签到之类的通知。</span></p><hr /><h2 id='函数'><span>函数</span></h2><blockquote><p><span>DicPro 的大多函数名不再区分大小写。</span></p><p><span>以 </span><code>$jump :lable$</code><span> 函数为例，现在你可以写成：</span>
<code>$Jump :lable$</code><span> </span><code>$JUMP :lable$</code><span> 甚至 </span><code>$jUmP :lable$</code><span> 而仍然可以正常执行。</span></p><p><span>但仍建议你使用变量大全中的大小写方式。因为字母作为函数参数（如：</span><code>$访问 GET 链接$</code><span> 中的 GET）时仍然区分大小写。</span></p></blockquote><hr /><blockquote><p><span>函数中的 </span><code>%QQ%</code><span> </span><code>%群号%</code><span> 等是作为示例的变量，并非指在参数前后加上 </span><code>%</code><span>。</span></p><p><span>如：</span>
<big style='color:green'><span>☑</span></big><span> $发送 群 msg %群号% 你好！$</span>
<big style='color:green'><span>☑</span></big><span> $发送 群 msg 12345678 你好！$</span>
<big style='color:red'><span>☒</span></big><span> $发送 群 msg %12345678% 你好！$</span></p></blockquote><h3 id='消息内容操作函数'><span>消息内容操作函数</span></h3><blockquote><p><span>此处的函数只是对消息内容进行特殊操作，不会增加消息内容。</span>
<span>因此，这些函数需要搭配文字才能成功发送消息并产生效果。</span></p></blockquote><hr /><h4 id='±at-qq±'><span>±at %QQ%±</span></h4><p><span>在消息中插入 @ 代码。</span></p><blockquote><p><span>关于@：</span></p><p><code>±at %QQ%±</code><span> 是「@」代码，可以产生「@」效果，即对方会收到「有人@你」黄字通知，但消息中不会显示「@xxxx」文字。</span></p><p><span>而「@昵称 」只会在消息中显示@文本，而没有通知提示。</span></p><p><span>因此，QR中正确的「@」方式为：</span>
<code>±at %QQ%±@%昵称%</code></p></blockquote><blockquote><p><span>特别地，macOS 版本的 QQ 可以看到 @ 代码，因此会看到两次 @。此问题暂时无法解决。</span>
<span>另外，</span><code>消息内容操作函数</code><span> 部分的其他函数，macOS QQ 也可以看到空消息。</span></p><p><span>QR 也能收到这种消息，所以可以用来机器人之间在群里偷偷通讯。虽然没什么大用。</span></p></blockquote><hr /><h4 id='±at-0±'><span>±at 0±</span></h4><p><span>@全体成员，同样不显示「@全体成员」的文字。</span></p><hr /><h4 id='±rep-msgbar±±strmsg-参数-1±'><span>±rep %Msgbar%±±strmsg %参数-1%±</span></h4><p><span>「回复」ID 为 </span><code>%Msgbar%</code><span> 的消息。</span></p><blockquote><p><strong><span>当前版本的 QR 中无法选定消息进行回复，只能回复触发指令的消息。疑似 bug。</span></strong></p></blockquote><blockquote><p><code>±strmsg=%参数-1%±</code><span> 中，</span><code>%参数-1%</code><span> 处为回复框里面的内容，可以自行修改。</span></p><p><code>±strmsg=%参数-1%±</code><span> 非必选，若不写则回复框引用内容为空。</span></p><p><span>若回复内容为非文本类型（图片、文件等），则 </span><code>±strmsg=%参数-1%±</code><span> 无效。</span></p></blockquote><hr /><h4 id='±anony-匿名±'><span>±anony 匿名±</span></h4><p><span>使本条消息匿名发送。</span></p><blockquote><p><span>机器人匿名发送的消息也可以触发它自己。</span></p></blockquote><hr /><h4 id='±face-187±'><span>±face 187±</span></h4><p><span>发送编号为 187 的普通（以 </span><code>%FACE0%</code><span> 获取）表情。</span></p><h4 id='±facenew-277±'><span>±facenew 277±</span></h4><p><span>发送编号为 277 的新（以 </span><code>%FACENEW0%</code><span> 获取）表情。</span></p><h4 id='±facepro-4194325±'><span>±facepro 4194325±</span></h4><p><span>发送编号为 4194325 的会员（以 </span><code>%FACEPRO0%</code><span> 获取）小表情。</span></p><blockquote><p><span>不需要机器人本身开通 QQ VIP 或 SVIP。</span></p><p><span>实际上所谓「会员小表情」只在添加表情包时有限制。</span></p></blockquote><hr /><h4 id='±bub-1±-授权专用'><span>±bub 1± </span><small><small><span style="color:#848484;"><code>授权专用</code></span></small></small></h4><p><span>使用气泡 ID</span><sup class='md-footnote'><a href='#dfref-footnote-2-2' name='ref-footnote-2-2'>2</a></sup><span> 为 1 的气泡发言。</span></p><blockquote><p><span>不受 VIP 限制；仅作用于当前一条消息，后续消息仍为原气泡。</span></p></blockquote><blockquote><p><span>仅当新版 QRSpeed 设置中开启「所有消息走长消息」时可用。</span></p><blockquote><p><span>谨慎勾选：此项勾选会导致部分消息类型不可用。</span></p></blockquote></blockquote><hr /><h4 id='±fmsg-acomtencentrandomwordsresid随机数-2000-2004mmainprompt闪字±'><span>±fmsg {&quot;a&quot;:&quot;com.tencent.randomwords&quot;,&quot;resid&quot;:$随机数 2000-2004$,&quot;m&quot;:&quot;main&quot;,&quot;prompt&quot;:&quot;闪字&quot;}±</span></h4><p><span>将发送的文字转换为闪字。</span></p><blockquote><p><span>自然，你可以将其中的 </span><code>$随机数 2000-2004$</code><span> 改为 2000 - 2004 之间的固定数字，以期得到固定的闪字效果。</span></p></blockquote><hr /><h3 id='文件操作函数'><span>文件操作函数</span></h3><hr /><h4 id='写-教程群号测试-m-0'><span>$写 教程/%群号%/测试 m 0$</span></h4><p><span>向 </span><code>/sdcard/QR/QRDic/data/教程/%群号%/测试</code><span> 中写入 </span><code>m=0</code><span>。</span></p><blockquote><p><span>我们将这里的「m」称为「key」。key 可以为任意数目的任意字符。</span></p><p><span>一个文件中，可以写入多个 key 不同的数据。</span></p><p><span>示例：，你可以使用 </span><code>$写 教程/%群号%/测试 mass 100$</code><span> 和 </span><code>$写 教程/%群号%/测试 火锅 100$</code><span> 在文件「测试」中写入两个数据。</span></p><p><span>之后，你可以使用下方的 </span><a href='#读-教程群号测试-m-0'><code>$读 $</code></a><span> 函数读取这些数据。</span></p></blockquote><hr /><h4 id='读-教程群号测试-m-0'><span>$读 教程/%群号%/测试 m 0$</span></h4><p><span>读取 /sdcard/QR/QRDic/data/教程/%群号%/测试 中 m 对应的值，不存在则返回默认值 0。</span></p><blockquote><p><span>你可以修改默认值「0」。</span></p><p><span>若将代码修改成 </span><code>$读 教程/%群号%/测试 m 100$</code><span>，则对应值不存在时返回默认值「100」。</span></p></blockquote><hr /><h4 id='写文件-sdcardqrexample-内容'><span>$写文件 /sdcard/QR/example 内容$</span></h4><p><span>以 UTF-8</span><sup class='md-footnote'><a href='#dfref-footnote-4' name='ref-footnote-4'>4</a></sup><span> 编码向文件 </span><code>/sdcard/QR/example</code><span> 中写入「内容」。</span></p><blockquote><p><span>若上层文件夹不存在，则会尝试自动创建文件夹。</span></p></blockquote><h4 id='读文件-sdcardqrexample'><span>$读文件 /sdcard/QR/example$</span></h4><p><span>以 UTF-8 编码读取文件 </span><code>/sdcard/QR/example</code><span> 中的内容。</span></p><blockquote><p><span>与 </span><a href='#访问-链接'><code>$访问 file://路径$</code></a><span> 不同，无法获取文件夹内容。</span></p></blockquote><hr /><h4 id='下载-sdcardqrexample-httpsaawwaawbaiducom'><span>$下载 /sdcard/QR/example https:</span><a></a><span>//ww</span><a></a><span>w.baidu.com$</span></h4><p><span>将 </span><a href='#访问函数'><code>$访问 https://www.baidu.com$</code></a><span> 得到的结果下载到 </span><code>/sdcard/QR/example</code><span>。</span></p><blockquote><p><span>示例：</span>
<code>$下载 /QR/QRDic/data/百度.html https://www.baidu.com$</code>
<code>$下载 /QR/QRDic/data/backup.txt file:///sdcard//QR/QRDic/dic.txt$</code></p></blockquote><blockquote><p><span>无法自动创建文件夹，需要使用已有文件夹或手动创建路径文件夹才能成功下载文件。</span></p></blockquote><hr /><h4 id='下载-sdcardqrexample-httpsaawwaawbaiducom-json格式请求头-a'><span>$下载 /sdcard/QR/example https:</span><a></a><span>//ww</span><a></a><span>w.baidu.com {JSON格式请求头} A$</span></h4><p><span>与 </span><a href='#$下载-qr路径-链接$'><span>上方的函数</span></a><span> 类似。可以自定义请求头为 </span><code>{JSON格式请求头}</code><span>。响应头将存储于变量 </span><code>A</code><span>。</span></p><hr /><h4 id='删除-sdcardqrexample'><span>$删除 /sdcard/QR/example$</span></h4><p><span>删除任意文件或文件夹，其路径为 </span><code>/sdcard/QR/example</code><span> 。</span></p><blockquote><p><em><strong><span>注意！</span><code>$删除 /sdcard/QR/QRDic/dic.txt$</code><span> 或类似操作将可能直接删除你的词库。</span></strong></em></p><p><em><strong><span>请不要在代码中留下被删除词库的隐患。</span></strong></em></p></blockquote><hr /><h3 id='文本处理函数'><span>文本处理函数</span></h3><blockquote><p><span>文本处理函数中符号 𒑜 可以随意更换，但要保证它不会在参数中出现。</span>
<span>如：$替换 QR 文本QR原内容QR新内容$</span></p><p><span>在所有参数均不含空格，或使用变量而不是文本作为参数的情况下，可以使用类似 </span><code>$替换 文本 原内容 新内容$</code><span> 的方法，下面不做额外说明。</span></p></blockquote><hr /><h4 id='替换-𒑜-文本𒑜被替换内容𒑜替换后内容'><span>$替换 𒑜 文本𒑜被替换内容𒑜替换后内容$</span></h4><p><span>将「文本」中的「被替换内容」全部替换为「替换后内容」。</span></p><p><span>备选方案：</span><code>$字符串 replace 文本 被替换内容 替换后内容$</code></p><hr /><h4 id='正则-𒑜-文本𒑜正则表达式𒑜替换后内容'><span>$正则 𒑜 文本𒑜正则表达式𒑜替换后内容$</span></h4><p><span>以 </span><a href='#regex'><span>正则表达式</span></a><span> 匹配「文本」中的「正则表达式」，并将匹配结果全部全部替换为「替换后内容」。</span></p><p><span>备选方案：</span><code>$字符串 replaceAll 文本 正则表达式 替换后内容$</code></p><blockquote><p><span>注意：</span><code>$正则</code><span> 函数中，</span><code>[0-9]</code><span> 将不会匹配数字 0 - 9 中的任意一个，而是被当作 </span><a href='#数学运算符'><em><span>计算格式</span></em></a><span> 运算后匹配 </span><strong><span>-9</span></strong><span>。</span></p></blockquote><hr /><h4 id='字符串-replacefirst-文本-正则表达式-替换后内容'><span>$字符串 replaceFirst 文本 正则表达式 替换后内容$</span></h4><p><span>以 </span><a href='#regex'><span>正则表达式</span></a><span> 匹配「文本」中的「正则表达式」，并将首个匹配结果全部替换为「替换后内容」。</span></p><hr /><h4 id='取中间-𒑜-文本𒑜开头𒑜结尾'><span>$取中间 𒑜 文本𒑜开头𒑜结尾$</span></h4><p><span>截取「文本」从首个「开头」到「开头」后首个「结尾」的中间部分。</span></p><blockquote><p><span>如果要从文本的开头开始取，则参数「开头」留空。</span>
<span>如：</span><code>$取中间 𒑜 12345𒑜𒑜3$</code><span> 结果为：12</span></p><p><span>如果要一直取到文本的结尾，则参数「结尾」留空。</span>
<span>如：</span><code>$取中间 𒑜 12345𒑜3𒑜$</code><span> 结果为：45</span></p></blockquote><hr /><h4 id='取括号-内容-正则表达式'><span>$取括号 内容 正则表达式$</span></h4><p><span>以 </span><a href='#regex'><span>正则表达式</span></a><span> 匹配「内容」。</span></p><p><span>将匹配成功的内容输出为多维数组</span></p><blockquote><p><span>示例：</span></p><p><span>$取括号 你好啊猪 你(.*)啊$</span></p><p><span>输出[[&quot;你好啊&quot;,&quot;好&quot;]]</span></p></blockquote><hr /><h4 id='转大写-括号1'><span>$转大写 %括号1%$</span></h4><p><span>将 </span><code>%括号1%</code><span> 中的所有英文字母转换为大写字母。</span></p><h4 id='转小写-括号1'><span>$转小写 %括号1%$</span></h4><p><span>将 </span><code>%括号1%</code><span> 中的所有英文字母转换为小写字母。</span></p><hr /><h4 id='字符串-length-文本'><span>$字符串 length 文本$</span></h4><p><span>获取 </span><code>%括号1%</code><span> 的字符数量。</span></p><blockquote><p><span>以 UTF-16 BE 编码后的长度。因此，少部分生僻字、特殊符号可能被判断为 2 个字符。</span></p></blockquote><hr /><h4 id='字符串-substring-文本-开始位置'><span>$字符串 substring 文本 开始位置$</span></h4><p><span>取「文本」从「开始位置」至最后的部分。包含开始位置的字符。</span></p><blockquote><p><span>第一个字符的「位置」是 0，第二个字符的「位置」是 1，以此类推。</span></p><p><span>这和数组的索引是一样的。「位置」实际上就是字符在字符串中的索引。</span></p></blockquote><h4 id='字符串-substring-文本-开始位置-结束位置'><span>$字符串 substring 文本 开始位置 结束位置$</span></h4><p><span>取「文本」从「开始位置」至「结束位置」的部分。包含开始位置的字符但不包含结束位置的字符。</span></p><hr /><h4 id='字符串-indexof-文本-查找内容'><span>$字符串 indexOf 文本 查找内容$</span></h4><p><span>若 </span><code>查找内容</code><span> 存在，返回首个 </span><code>查找内容</code><span> 的首个字符的位置；</span></p><p><span>若 </span><code>查找内容</code><span> 不存在，返回 -1。</span></p><blockquote><p><span>对位置的定义见 </span><a href='#字符串-substring-文本-开始位置'><code>$字符串 substring 文本 开始位置$</code></a><span> 函数的注释。</span></p></blockquote><h4 id='字符串-lastindexof-文本-查找内容'><span>$字符串 lastIndexOf 文本 查找内容$</span></h4><p><span>若 </span><code>查找内容</code><span> 存在，返回最后一个 </span><code>查找内容</code><span> 的首个字符的位置；</span></p><p><span>若 </span><code>查找内容</code><span> 不存在，返回 -1。</span></p><hr /><h4 id='概率随机-概率数组-内容数组'><span>$概率随机 概率数组 内容数组$</span></h4><p><span>概率数组的长度必须与内容数组的长度相等，不是字符长度。</span></p><blockquote><p><span>示例：</span></p><p><span>随机</span>
<span>$概率随机 [1,2] [&quot;你好&quot;,&quot;猪&quot;]$</span></p></blockquote><hr /><h3 id='消息发送函数'><span>消息发送函数</span></h3><hr /><h4 id='发送'><span>$发送$</span></h4><p><span>将上方输出的文本直接发送。</span></p><blockquote><p><span>示例：</span></p><p><span>测试发送</span>
<span>1</span>
<span>23</span>
<span>$发送$</span>
<span>456</span></p></blockquote><blockquote><p><span>用于分段发送时可能由于网络波动导致顺序颠倒。</span></p></blockquote><hr /><blockquote><p><span>下面三个函数若在同一个触发词代码中出现且互相冲突，以最后一个出现的函数为准。</span></p></blockquote><h4 id='发送-群-群号'><span>$发送 群 %群号%$</span></h4><p><span>本次触发中，将消息发送至群 </span><code>%群号%</code><span> 。</span></p><blockquote><p><span>若不指定 </span><code>%群号%</code><span> （即：</span><code>$发送 群$</code><span>），则自动填充当前 </span><code>%群号%</code><span>。</span></p></blockquote><h4 id='发送-好友-qq'><span>$发送 好友 %QQ%$</span></h4><p><span>本次触发中，将消息发送至好友 </span><code>%QQ%</code><span>。</span></p><blockquote><p><span>若不指定 </span><code>%QQ%</code><span> （即：</span><code>$发送 好友$</code><span>），则自动填充触发者 </span><code>%QQ%</code><span>。</span></p></blockquote><h4 id='发送-临时-群号-qq'><span>$发送 临时 %群号% %QQ%$</span></h4><p><span>本次触发中，将消息作为临时消息发送至群 </span><code>%群号%</code><span> 中的成员 </span><code>%QQ%</code><span>。</span></p><p><span>备选方案：</span><code>$发送 私聊 %群号% %QQ%$</code></p><blockquote><p><span>若不指定 </span><code>%群号%</code><span> 与 </span><code>%QQ%</code><span> （即：</span><code>$发送 临时$</code><span>），则自动填充当前 </span><code>%群号%</code><span> 与触发者 </span><code>%QQ%</code><span>。</span></p></blockquote><blockquote><p><span>临时会话权限可能被群主关闭。</span></p></blockquote><hr /><h4 id='发送-群-msg-群号-内容'><span>$发送 群 msg %群号% 内容$</span></h4><p><span>向群 </span><code>%群号%</code><span> 发送文本消息。</span></p><h4 id='发送-临时-msg-群号-qq-内容'><span>$发送 临时 msg %群号% %QQ% 内容$</span></h4><p><span>向群 </span><code>%群号%</code><span> 的群成员 </span><code>%QQ%</code><span> 发送文本临时消息。</span></p><blockquote><p><span>无法带图。</span></p></blockquote><hr /><h4 id='±ptt音频路径或链接±'><span>±ptt=音频路径或链接±</span></h4><p><span>向当前群发送语音消息。</span></p><h4 id='发送-群-ptt-群号-音频路径或链接'><span>$发送 群 ptt %群号% 音频路径或链接$</span></h4><p><span>向指定群发送语音消息。</span></p><blockquote><p><span>大于 10MB 的音频文件无法被发送。</span></p><p><span>无法向单独的某人（好友、临时消息）发送语音消息。</span></p></blockquote><hr /><h4 id='a-idcardpostacard1-xml卡片代码-授权专用'><a id="cardpost"></a><span>card:1 xml卡片代码 </span><small><small><span style="color:#848484;"><code>授权专用</code></span></small></small></h4><p><span>向当前聊天发送  </span><a href='#xml-卡片'><span>XML 卡片</span></a><span>。</span></p><h4 id='发送-群-xml-群号-xml卡片代码-授权专用'><span>$发送 群 xml %群号% xml卡片代码$ </span><small><small><span style="color:#848484;"><code>授权专用</code></span></small></small></h4><p><span>向指定群发送 XML 卡片。</span></p><h4 id='发送-临时-xml-群号-xml卡片代码-授权专用'><span>$发送 临时 xml %群号% xml卡片代码$ </span><small><small><span style="color:#848484;"><code>授权专用</code></span></small></small></h4><p><span>向指定群成员发送 XML 卡片。</span></p><hr /><h4 id='json-json卡片代码授权专用'><span>json: JSON卡片代码</span><small><small><span style="color:#848484;"><code>授权专用</code></span></small></small></h4><p><span>向当前聊天发送 </span><a href='#json-卡片'><span>JSON 卡片</span></a><span>。</span></p><h4 id='发送-群-json-群号-json卡片代码-授权专用'><span>$发送 群 json %群号% json卡片代码$ </span><small><small><span style="color:#848484;"><code>授权专用</code></span></small></small></h4><p><span>向群 </span><code>%群号%</code><span> 发送 JSON 卡片。</span></p><h4 id='发送-临时-json-群号-qq-json卡片代码-授权专用'><span>$发送 临时 json %群号% %QQ% json卡片代码$ </span><small><small><span style="color:#848484;"><code>授权专用</code></span></small></small></h4><p><span>向群 </span><code>%群号%</code><span> 中成员 </span><code>%QQ%</code><span> 发送 JSON 卡片。</span></p><hr /><h4 id='±img图片路径或链接或md5±'><span>±img=图片路径或链接或MD5±</span></h4><p><span>向当前群发送图片消息。</span></p><blockquote><p><span>可以搭配文字。</span></p></blockquote><blockquote><p><span>私聊发图为 </span><code>授权专用</code><span> 功能。</span></p></blockquote><h4 id='发送-群-img-群号-图片路径或链接或md5'><span>$发送 群 img %群号% 图片路径或链接或MD5$</span></h4><p><span>向指定群发送图片消息。</span></p><h4 id='发送-临时-img-群号-qq-图片路径或链接或md5-授权专用'><span>$发送 临时 img %群号% %QQ% 图片路径或链接或MD5$ </span><small><small><span style="color:#848484;"><code>授权专用</code></span></small></small></h4><p><span>向指定群的群成员发送图片临时消息。</span></p><hr /><h4 id='±fimg图片路径或链接或md5±'><span>±fimg=图片路径或链接或MD5±</span></h4><p><span>向当前群发送闪照。</span></p><h4 id='发送-群-fimg-群号-图片路径或链接或md5'><span>$发送 群 fimg %群号% 图片路径或链接或MD5$</span></h4><p><span>向指定群发送闪照。</span></p><hr /><h4 id='±shake-1±'><span>±shake 1±</span></h4><p><span>发送窗口抖动。</span></p><hr /><h3 id='qqqq群操作函数'><span>QQ/QQ群操作函数</span></h3><hr /><h4 id='点赞-qq-10'><span>$点赞 %QQ% 10$</span></h4><p><span>点赞 </span><code>%QQ%</code><span> 10 次。只能给机器人的好友点赞。</span></p><blockquote><p><span>当然，如果你的机器人开通了 SVIP，你可以将 10 改为 20。</span></p></blockquote><hr /><h4 id='禁-群号-qq-禁言时间'><span>$禁 %群号% %QQ% 禁言时间$</span></h4><p><span>禁言群成员。机器人需有 QQ 群管理员权限。</span></p><blockquote><p><span>禁言时间以 </span><em><span>秒</span></em><span> 为单位。</span></p></blockquote><blockquote><p><span>禁言时间为 0 时，表示解除禁言。</span></p></blockquote><hr /><h4 id='改-群号-qq-新群昵称'><span>$改 %群号% %QQ% 新群昵称$</span></h4><p><span>修改群成员的群昵称。修改他人群昵称时，机器人需有 QQ 群管理员权限。</span></p><blockquote><p><span>即使没有管理员权限，机器人也可以修改自己的群昵称。</span></p></blockquote><hr /><h4 id='群头衔-群号-qq-头衔'><span>$群头衔 %群号% %QQ% 头衔$</span></h4><p><span>修改群成员的群头衔，需要有群主权限。</span></p><blockquote><p><span>最多19个非汉字字符。</span></p></blockquote><hr /><h4 id='踢-群号-qq'><span>$踢 %群号% %QQ%$</span></h4><p><span>移除群成员。机器人需有 QQ 群管理员权限。</span></p><hr /><h4 id='全体禁言-开-群号'><span>$全体禁言 开 %群号%$</span></h4><p><span>开启指定群的全员禁言。</span></p><h4 id='全体禁言-关-群号'><span>$全体禁言 关 %群号%$</span></h4><p><span>关闭指定群的全员禁言。</span></p><hr /><h4 id='撤回-群号-msgbar'><span>$撤回 %群号% %Msgbar%$</span></h4><p><span>撤回 ID 为 </span><code>%Msgbar%</code><span> 的消息。</span></p><hr /><h4 id='申请群-申请群号-理由授权专用'><span>$申请群 申请群号 理由$</span><small><small><span style="color:#848484;"><code>授权专用</code></span></small></small></h4><p><span>申请加入群。</span></p><blockquote><p><span>由于 腾讯风控</span><sup class='md-footnote'><a href='#dfref-footnote-5' name='ref-footnote-5'>5</a></sup><span> 的原因，机器人发出的入群申请可能被 </span><em><span>屏蔽</span></em><span> 或 </span><em><span>过滤</span></em><span>。</span></p></blockquote><hr /><h4 id='退出群-退出群号授权专用'><span>$退出群 退出群号$</span><small><small><span style="color:#848484;"><code>授权专用</code></span></small></small></h4><p><span>退出群。</span></p><hr /><h4 id='获取群状态-群号'><span>$获取群状态 %群号%$</span></h4><p><span>获取 </span><code>%群号%</code><span> 在 QR 主程序中的开关状态，返回 </span><code>开</code><span> 或 </span><code>关</code><span>。</span></p><hr /><h4 id='进群审核-群号-qq-31-12-拒绝理由'><span>$进群审核 %群号% %QQ% 31 12 拒绝理由$</span></h4><p><span>拒绝 </span><code>%QQ%</code><span> 入群。</span></p><blockquote><p><span>很可能仅在 </span><code>[系统]</code><span> 前缀的触发词代码中有效。</span></p></blockquote><h4 id='进群审核-群号-qq-2001-11-0'><span>$进群审核 %群号% %QQ% 2001 11 0$</span></h4><p><span>同意 </span><code>%QQ%</code><span> 入群。</span></p><blockquote><p><span>很可能仅在 </span><code>[系统]</code><span> 前缀的触发词代码中有效。</span></p></blockquote><hr /><h4 id='获取群列表'><span>$获取群列表$</span></h4><p><span>获取机器人加入的群数组</span></p><hr /><h4 id='获取群成员-群号'><span>$获取群成员 %群号%$</span></h4><p><span>获取机器人加入的群聊的群成员数组</span></p><hr /><h3 id='代码相关函数'><span>代码相关函数</span></h3><h4 id='调用-1000-内容'><span>$调用 1000 内容$</span></h4><p><span>延迟 1000 毫秒后，触发关键词「内容」。</span></p><blockquote><p><span>示例：</span></p><p><span>说话</span>
<span>$调用 1000 说你好$</span>
<span>$调用 2000 说再见$</span>
<span>$调用 3000 说走开走开$</span></p><p><span>[内部]说(.*)</span>
<span>%括号1%</span></p></blockquote><blockquote><p><span>1 秒 = 1000 毫秒。</span></p></blockquote><hr /><h4 id='回调-内容'><span>$回调 内容$</span></h4><p><span>触发关键词「内容」，并将执行结果返回到 </span><code>$回调 内容$</code><span> 处。</span></p><blockquote><p><span>示例：</span></p><p><span>说话</span>
<span>a:$回调 说你好$</span>
<span>我说了个「%a%」\n</span>
<span>我又说了个「$回调 说再见$」\n</span>
<span>$回调 说走开走开$</span></p><p><span>[内部]说(.*)</span>
<span>%括号1%</span></p></blockquote><hr /><h4 id='常调-内容'><span>$常调 内容$</span></h4><p><span>触发不含 </span><code>[内部]</code><span> 前缀的关键词「内容」，并将执行结果返回到 </span><code>$常调 内容$</code><span> 处。</span></p><hr /><h4 id='回调内部-内容'><span>$回调内部 内容$</span></h4><p><span>触发含有 </span><code>[内部]</code><span> 前缀的关键词「内容」，并将执行结果返回到 </span><code>$回调内部 内容$</code><span> 处。</span></p><hr /><h4 id='执行-括号1'><span>$执行 %括号1%$</span></h4><p><span>将 </span><code>%括号1%</code><span> 作为 QRSpeed 词库代码执行。可以执行多行。</span></p><blockquote><p><span>建议不要在私聊中执行，否则可能会出现 bug。</span></p></blockquote><blockquote><p><em><strong><span>如果你需要用到它，记得加上权限或防范措施，以免被恶意执行（如被 </span><a href='#删除-qrqrDicdata……'><span>删除词库</span></a><span> ）。</span></strong></em></p></blockquote><hr /><h4 id='延迟执行-1000-括号1'><span>$延迟执行 1000 %括号1%$</span></h4><p><span>延迟延迟 1000 毫秒后，将 </span><code>%括号1%</code><span> 作为 QRSpeed 词库代码执行，并发送执行结果。</span></p><hr /><h4 id='变量-a-123456'><span>$变量 A 123456$</span></h4><p><span>将变量 A 赋值为 123456，支持多字变量。</span></p><blockquote><p><span>示例：</span></p><p><span>我的金币</span>
<span>$变量 金币 10000$</span>
<span>你现在有%金币%枚金币。</span></p></blockquote><h4 id='全局变量-a-name'><span>$全局变量 A Name$</span></h4><p><span>可在这个词库定义全局变量，任何一个指令都可使用。</span></p><p><span>静态全局，不会随着时间改变，且重启一次词库或主程序就要重新赋值一次，较为麻烦</span></p><h4 id='取变量-a'><span>$取变量 A$</span></h4><p><span>获取变量 A 的值。</span></p><hr /><h4 id='lable'><span>:lable</span></h4><h4 id='jump-lable'><span>$jump :lable$</span></h4><p><code>:lable</code><span> 指定一个跳行标签。你可以使用 </span><code>$jump :lable$</code><span> 跳行到对应标签处。</span></p><p><span>你可以指定多个标签，其中的 lable 可以改为其他字符串。</span></p><p><span>备选方案：</span><code>$跳 :lable$</code></p><p>&nbsp;</p><blockquote><p><span>示例1：</span></p><p><span>循环示例</span>
<span>a:0</span>
<span>:here!</span>
<span>如果:%a%&lt;10</span>
<span>%a%\n</span>
<span>a:[%a%+1]</span>
<span>$jump :here!$</span>
<span>如果尾</span></p></blockquote><blockquote><p><span>示例2：</span></p><p><span>跳行示例</span>
<span>1$jump :lable3$</span>
<span>2</span>
<span>:lable1</span>
<span>3$jump :lable2$</span>
<span>:lable3</span>
<span>4$jump :lable1$</span>
<span>:lable2</span>
<span>5</span></p><p><strong><span>对「示例2」看晕了对吗？请尽量不要在一段代码中使用过多跳行，除非你确认以后不会再更改它。</span></strong></p></blockquote><hr /><h4 id='输出为-内容'><span>$输出为 内容$</span></h4><p><span>Pro版本的词库进行了高强度转义，想要直接输出链接或回调输出的±类关键词和卡片类关键词，</span></p><p><span>就使用输出为吧</span></p><hr /><h3 id='类变量函数'><span>类变量函数</span></h3><blockquote><p><span>写了一年了我也没给它们找到一个好名字。</span></p></blockquote><h4 id='随机数-a-b'><span>$随机数 %a% %b%$</span></h4><p><span>获取 </span><code>%a%</code><span> 至 </span><code>%b%</code><span> 之间（包括 </span><code>%a%</code><span> 与 </span><code>%b%</code><span>）的一个随机数。其中 </span><code>%a%</code><span> 不必小于 </span><code>%b%</code><span>。</span></p><p><span>备选方案：</span><code>$随机数 %a%-%b%$</code></p><blockquote><p><span>若使用 </span><code>$随机数 %a%-%b%$</code><span>，</span><code>%a%</code><span> 与 </span><code>%b%</code><span> 只能为自然数，否则输出0。</span></p><p><span>若使用 </span><code>$随机数 %a% %b%$</code><span>，</span><code>%a%</code><span> 与 </span><code>%b%</code><span> 只能为整数，否则没有输出。</span></p></blockquote><hr /><h4 id='群昵称-群号-qq'><span>$群昵称 %群号% %QQ%$</span></h4><p><span>获取 </span><code>%QQ%</code><span> 在 </span><code>%群号%</code><span> 的群名片。</span></p><blockquote><p><span>当机器人或 </span><code>%QQ%</code><span> 不在所查询群时，返回 </span><code>%QQ%</code><span> 的真实昵称。</span></p><p><span>因此，可以使用 </span><code>$群昵称 0 %QQ%$</code><span> 获取某人真实昵称。</span></p></blockquote><hr /><h4 id='管理员-qq'><span>$管理员 %QQ%$</span></h4><p><span>检测 </span><code>%QQ%</code><span> 是否为词库插件中设置的管理员。</span></p><p><span>若是，返回 </span><code>%QQ%</code><span>；</span></p><p><span>否则，返回 </span><code>0</code><span>。</span></p><blockquote><p><span>使用示例：</span></p><p><span>如果:$管理员 %QQ%$==%QQ%</span>
<span>是管理员</span></p></blockquote><hr /><h4 id='图片链接-img0'><span>$图片链接 %IMG0%$</span></h4><p><span>将「图片代码」为 </span><code>%IMG0%</code><span> 的图片上传到 QR 服务器并获取链接。</span></p><blockquote><p><span>链接获取失败时，返回传入的 </span><code>%IMG0%</code><span> 。这种情况一般会在你传入的并不是合法的 </span><code>%IMG0%</code><span> 格式时出现。</span></p></blockquote><hr /><h3 id='访问函数'><span>访问函数</span></h3><blockquote><p><span>访问结果以 UTF-8</span><sup class='md-footnote'><a href='#dfref-footnote-4-1' name='ref-footnote-4-1'>4</a></sup><span> 编码。</span></p></blockquote><hr /><h4 id='访问-链接'><span>$访问 链接$</span></h4><h4 id='访问-get-链接'><span>$访问 GET 链接$</span></h4><p><span>向链接发送 GET 请求，可以理解为普通的访问链接。</span></p><blockquote><p><span>你可以使用 </span><code>$访问 file://路径$</code><span> 访问本机文件或文件夹，获取文件内容或文件夹内所有文件名。</span></p></blockquote><hr /><blockquote><p><span>以下的访问方法，如果看不懂可以忽略。</span></p></blockquote><hr /><h4 id='访问-setget-json格式请求头-链接'><span>$访问 SETGET {JSON格式请求头} 链接$</span></h4><p><span>向链接发送自定义请求头的 GET 请求。</span></p><hr /><h4 id='访问-setgetft-json格式请求头-a-链接'><span>$访问 SETGETFT {JSON格式请求头} A 链接$</span></h4><p><span>向链接发送自定义请求头的 GET 请求，并将响应头赋值给变量 A。</span></p><hr /><h4 id='访问-post-网址-post参数'><span>$访问 POST 网址 post参数$</span></h4><p><span>向链接发送 POST 请求。</span></p><hr /><h4 id='访问-setpost-json格式请求头-链接-post参数'><span>$访问 SETPOST {JSON格式请求头} 链接 post参数$</span></h4><p><span>向链接发送自定义请求头的 POST 请求。</span></p><hr /><h4 id='访问-setpostft-json格式请求头-a-链接-post参数'><span>$访问 SETPOSTFT {JSON格式请求头} A 链接 post参数$</span></h4><p><span>向链接发送自定义请求头的 POST 请求，并将响应头赋值给变量 A。</span></p><hr /><h3 id='时间函数'><span>时间函数</span></h3><p><span>时间格式化函数（</span><code>$时间 yyyy-MM-dd$</code><span> </span><code>$时间格式 %NDTime% yyyy-MM-dd$</code><span>）中，</span><code>yyyy-MM-dd</code><span> 这部分内容被称为格式化字符串。</span></p><p><span>由于格式化字符串中的许多关键字很少用到且规则复杂，这里只介绍一些简单的时间格式。想具体了解，请点击 </span><a href='#时间格式化详解'><span>时间格式化详解</span></a><span> 查看。</span></p><blockquote><p><span>使用示例：</span></p><p><span>测试time</span>
<span>$时间 HHmm$\n</span>
<span>$时间 yyyy-MM-dd HH:mm:ss.SSS E$\n</span>
<span>$时间 时间现在时间ahh时mm分ss秒$</span></p></blockquote><p><span>以下介绍一些常用的关键字。将关键字放入格式化字符串中，就会被替换为对应的时间。</span></p><p><code>yyyy</code><span> 年</span></p><p><code>MM</code><span> 月</span></p><p><code>dd</code><span> 日</span></p><p><code>HH</code><span> 时：24 小时制</span>
<code>hh</code><span> 时：12 小时制</span></p><p><code>mm</code><span> 分</span></p><p><code>ss</code><span> 秒</span></p><p><code>E</code><span> 星期</span></p><p><code>a</code><span> 半日（上午/下午）</span></p><blockquote><p><code>$时间 $</code><span> 等函数实际上是调用 </span><em><span>Java</span></em><span> </span><em><span>SimpleDateFormat</span></em><span> 类，处理时间并输出。</span></p></blockquote><blockquote><p><span>由于作者并没有找到足够详尽的 </span><em><span>SimpleDateFormat</span></em><span> 中文介绍，因此在下方按照自己的理解与实践编纂了</span><a href='#时间变量详解'><span>详解</span></a><span>。</span></p><p><span>如果你发现了</span><a href='#时间变量详解'><span>详解</span></a><span>中的疏漏，或者可以找到完整的中文介绍，希望可以联系作者修正或补充链接。</span></p></blockquote><h4 id='时间-yyyy-mm-dd'><span>$时间 yyyy-MM-dd$</span></h4><p><span>将当前时间转换为一般时间格式。</span></p><blockquote><p><span>具体格式定义方法见下面的函数介绍。</span></p></blockquote><h4 id='时间格式-ndtime-yyyy-mm-dd'><span>$时间格式 %NDTime% yyyy-MM-dd$</span></h4><p><span>将毫秒级时间戳 </span><code>%NDTime%</code><span> 转换为一般时间格式。</span></p><hr /><h4 id='格式时间戳-2021-1-1-yyyy-mm-dd'><span>$格式时间戳 2021-1-1 yyyy-MM-dd$</span></h4><p><span>将一般时间格式转换为毫秒级时间戳。</span></p><hr /><h4 id='时间操作-毫秒级时间戳-操作类型-添加次数'><span>$时间操作 毫秒级时间戳 操作类型 添加次数$</span></h4><blockquote><p><span>操作类型</span></p><p><span>YEAR=一年</span>
<span>MONTH=一个月</span>
<span>DAY_OF_MONTH=一天</span>
<span>HOUR_OF_DAY=一小时</span>
<span>MINUTE=一分钟</span>
<span>SECOND=一秒</span>
<span>WEEK_OF_YEAR=一周</span></p></blockquote><blockquote><p><span>示例：</span></p><p><span>$时间操作 %NDTime% YEAR 1$</span></p></blockquote><hr /><h4 id='时间戳差-初始毫秒级时间戳-终止毫秒级时间戳'><span>$时间戳差 初始毫秒级时间戳 终止毫秒级时间戳$</span></h4><p><span>计算两个毫秒级时间戳的差</span></p><hr /><h3 id='运算函数'><span>运算函数</span></h3><blockquote><p><span>使用本部分函数时，如果你需要手动添加参数（如：</span><code>$MD5 测试$</code><span>），你需要注意参数中的空格，它在许多函数中可能引起错误。</span></p><p><span>使用变量作为参数（如：</span><code>$MD5 %括号1%$</code><span> </span><code>$MD5 %a%</code><span>），则无需担心空格会引起错误。</span></p></blockquote><hr /><h4 id='字符长度-括号1'><span>$字符长度 %括号1%$</span></h4><p><span>获取 </span><code>%括号1%</code><span> 的字符数量。</span></p><blockquote><p><span>以 UTF-16 BE 编码后的长度。因此，少部分生僻字、特殊符号可能被判断为 2 个字符。</span></p></blockquote><hr /><h4 id='字节长度-括号1'><span>$字节长度 %括号1%$</span></h4><p><span>获取 </span><code>%括号1%</code><span> 的字节数量。</span></p><blockquote><p><span>以 UTF-8 以编码后的长度。一个汉字包含 3-4 个字节，而不是某些上古书籍中的 2 个。</span></p></blockquote><hr /><h4 id='urlencoder-括号1'><span>$URLEncoder %括号1%$</span></h4><p><span>URL 编码：将文本使用 UTF-8 百分号编码方式进行转码。</span></p><blockquote><p><span>QR 的 URL 编码中，除了数字 </span><code>0-9</code><span>、大小写形式的 26 字母 </span><code>a-z</code><span> </span><code>A-Z</code><span>、句点 </span><code>.</code><span>、减号/连字符 </span><code>-</code><span> 以及下划线 </span><code>_</code><span> 之外，其他符号都会被编码。</span></p></blockquote><h4 id='urldecoder-括号1'><span>$URLDecoder %括号1%$</span></h4><p><span>URL 解码：将 UTF-8 百分号编码转换为文本。</span></p><hr /><h4 id='hexencoder-括号1'><span>$HexEncoder %括号1%$</span></h4><p><span>Hex 编码：将文本使用 UTF-8 十六进制编码方式进行转码。</span></p><blockquote><p><del><span>实际上就是将 </span><strong><span>所有</span></strong><span> 字符 URL 编码之后去掉百分号。</span></del></p></blockquote><h4 id='hexdecoder-括号1'><span>$HexDecoder %括号1%$</span></h4><p><span>Hex 解码：将 UTF-8 十六进制编码转换为文本。</span></p><hr /><h4 id='unicodeencoder-括号1'><span>$UnicodeEncoder %括号1%$</span></h4><p><span>Unicode 编码：将文本使用 UTF-16 BE </span><code>\u</code><span> 编码方式进行转码。</span></p><h4 id='unicodedecoder-括号1'><span>$UnicodeDecoder %括号1%$</span></h4><p><span>Unicode 解码：将 UTF-16 BE </span><code>\u</code><span> 编码转换为文本。</span></p><hr /><h4 id='base64encoder-括号1'><span>$Base64Encoder %括号1%$</span></h4><p><span>Base64 编码：将文本使用 Base64 编码方式进行转码。</span></p><h4 id='base64decoder-括号1'><span>$Base64Decoder %括号1%$</span></h4><p><span>Base64 解码：将 Base64 编码转换为文本。</span></p><hr /><h4 id='md5-内容'><span>$MD5 内容$</span></h4><p><span>计算一段文字的 MD5</span><sup class='md-footnote'><a href='#dfref-footnote-1-2' name='ref-footnote-1-2'>1</a></sup><span>。</span></p><blockquote><p><span>可以用来校验文件是否被更改，或者作为文件的唯一 ID。</span></p></blockquote><hr /><h4 id='crc32-内容'><span>$CRC32 内容$</span></h4><p><span>计算一段文字的 CRC32。</span></p><blockquote><p><span>CRC32 和 MD5 一样，都算一种摘要算法。CRC32 计算的结果更短，也更容易重复。</span></p></blockquote><hr /><h4 id='gtk-skey'><span>$GTK %Skey%$</span></h4><h4 id='bkn-skey'><span>$BKN %Skey%$</span></h4><p><span>这两个函数完全相同，将 </span><code>%Skey%</code><span> 转换为 bkn/g_tk</span><sup class='md-footnote'><a href='#dfref-footnote-6' name='ref-footnote-6'>6</a></sup><span>。</span></p><hr /><h4 id='sig-内容'><span>$SIG 内容$</span></h4><p><span>QR 官方解释为：固定的数字签名算法。</span></p><blockquote><p><span>似乎在 QQ 扫码登录时有用。</span></p></blockquote><hr /><h4 id='随机字符-内容-长度'><span>$随机字符 内容 长度$</span></h4><p><span>随机一串定义长度的内容</span></p><blockquote><p><span>如果【内容】为空，则使用函数内置内容</span></p><p><span>示例：</span></p><p><span>$随机字符 20$</span></p><p><span>$随机字符 Riko是猪啦 20$</span></p></blockquote><hr /><h4 id='数字转中文-数字'><span>$数字转中文 数字$</span></h4><p><span>将阿拉伯数字转为中文数字</span></p><blockquote><p><span>示例：</span></p><p><span>$数字转中文 3248$</span></p></blockquote><hr /><h3 id='json-操作函数'><span>JSON 操作函数</span></h3><blockquote><p><span>注意，QR中所有JSON操作中都直接使用变量名，如「A」而不是「%A%」。</span></p></blockquote><hr /><h4 id='a1'><span>@A[1]</span></h4><ul><li><span>获取 JSON 数组 </span><code>A</code><span> 中索引 </span><code>1</code><span> 对应的值;</span></li><li><span>获取 JSON 对象 </span><code>A</code><span> 中，键 </span><code>&quot;1&quot;</code><span> 对应的值。</span></li></ul><hr /><h4 id='json-添加-a-1-100'><span>$JSON 添加 A 1 100$</span></h4><ul><li><span>将 JSON 数组 </span><code>A</code><span> 中索引 </span><code>1</code><span> 对应的值修改为字符串 </span><code>&quot;100&quot;</code><span> ，如果前方有索引没有对应值，将会补充空值 </span><code>null</code><span> ；</span></li><li><span>将 JSON 对象 </span><code>A</code><span> 中键 </span><code>&quot;1&quot;</code><span> 对应的值修改为字符串 </span><code>&quot;100&quot;</code><span> ，如果不存在键 </span><code>&quot;1&quot;</code><span> ，则创建一个新的键值对 </span><code>&quot;1&quot;:&quot;100&quot;</code><span> 。</span></li></ul><hr /><h4 id='json-添加-a-100'><span>$JSON 添加 A 100$</span></h4><ul><li><span>在 JSON 数组 </span><code>A</code><span> 的末尾添加字符串 </span><code>&quot;100&quot;</code><span> 。</span></li></ul><hr /><h4 id='json-删除-a-1-1'><span>$JSON 删除 A 1$</span></h4><ul><li><span>删除 JSON 数组 </span><code>A</code><span> 中索引为 </span><code>1</code><span> 的值；</span></li><li><span>删除 JSON 对象 </span><code>A</code><span> 中键为 </span><code>&quot;1&quot;</code><span> 的键值对。</span></li></ul><hr /><h4 id='json-长度-a-1'><span>$JSON 长度 A$</span></h4><ul><li><span>获取 JSON 数组 </span><code>A</code><span> 中元素的数量。</span></li><li><span>获取 JSON 对象 </span><code>A</code><span> 中元素的数量。</span></li></ul><hr /><h4 id='json-获取-a-1-1'><span>$JSON 获取 A 1$</span></h4><blockquote><p><span>可以在 </span><code>@A[1]</code><span> 函数无法成功获取时使用</span></p></blockquote><ul><li><span>获取 JSON 数组 </span><code>A</code><span> 中索引为 </span><code>1</code><span> 的值；</span></li><li><span>获取 JSON 对象 </span><code>A</code><span> 中键 </span><code>&quot;1&quot;</code><span> 对应的值。</span></li></ul><hr /><h4 id='json-包含-a-100'><span>$JSON 包含 A 100$</span></h4><ul><li><span>检测 JSON 数组 </span><code>A</code><span> 中是否包含字符串 </span><code>&quot;100&quot;</code><span> 或数值 </span><code>100</code><span>。</span>
<span>如果包含，返回被检测值（这里为 </span><code>100</code><span>）；否则返回空值。</span></li></ul><blockquote><p><span>只能检测是否包含字符串或数值；无法检测 </span><code>true</code><span> </span><code>false</code><span> </span><code>null</code><span>。</span></p></blockquote><h4 id='json-包含-a-value-100'><span>$JSON 包含 A value 100$</span></h4><ul><li><p><span>检测 JSON 对象 </span><code>A</code><span> 中是否存在键的对应值为字符串 </span><code>&quot;100&quot;</code><span> 或数值 </span><code>100</code><span>。</span></p><p><span>如果包含，返回被检测值（这里为 </span><code>100</code><span>）；否则返回空值。</span></p></li></ul><blockquote><p><span>同上，只能检测是否包含字符串或数值。</span></p></blockquote><h4 id='json-包含-a-key-100'><span>$JSON 包含 A key 100$</span></h4><ul><li><span>检测 JSON 对象 </span><code>A</code><span> 中是否存在键为字符串 </span><code>&quot;100&quot;</code><span>。</span></li><li><span>如果包含，返回被检测值（这里为 </span><code>100</code><span>）；否则返回空值。</span></li></ul><blockquote><p><span>同上，只能检测是否包含字符串。因为数值不能作为 JSON 的键。</span></p></blockquote><hr /><h3 id='外部java调用'><span>外部Java调用</span></h3><blockquote><p><span>QR 的外部 Java 调用使用轻量级 Java 解释器 BeanShell，一些 Java 语言特性可能无法使用。</span></p></blockquote><hr /><h4 id='bsh-xxxxjava-a'><span>$BSH xxxx.java %a%$</span></h4><p><span>调用 </span><code>/sdcard/QR/QRDic/BSH/xxxx.java</code><span> 中的函数「%a%」。</span></p><hr /><h4 id='bsh-xxxxjava-a-b'><span>$BSH xxxx.java %a% %b%$</span></h4><p><span>调用 </span><code>/sdcard/QR/QRDic/BSH/xxxx.java</code><span> 中的函数「%a%」，参数为「%b%」。</span></p><hr /><h3 id='其他函数'><span>其他函数</span></h3><h4 id='设置群状态-群号-开'><span>$设置群状态 %群号% 开$</span></h4><h4 id='设置群状态-群号-关'><span>$设置群状态 %群号% 关$</span></h4><p><span>设置 QR 主程序中的开关。</span></p><blockquote><p><span>这样一来，你无法在当前群触发任何消息。因此，你将难以在当前群内重新打开此开关。</span></p></blockquote><hr /><h4 id='添加管理员-qq'><span>$添加管理员 %QQ%$</span></h4><h4 id='删除管理员-qq'><span>$删除管理员 %QQ%$</span></h4><p><span>添加与删除 QR 词库插件中的「管理员」。</span></p><blockquote><p><span>不是添加群管理的 管理员。</span></p></blockquote><hr /><h4 id='词库操作-添加-词库文件名'><span>$词库操作 添加 词库文件名$</span></h4><h4 id='词库操作-删除-词库文件名'><span>$词库操作 删除 词库文件名$</span></h4><p><span>添加与删除 QRDICPro 词库插件中的 加载词库。</span></p><hr /><h3 id='画布'><span>画布</span></h3><h4 id='画布-声明-a-长-宽'><span>$画布 声明 A 长 宽$</span></h4><p><span>定义 </span><code>A</code><span> 画布的长和宽。</span></p><blockquote><p><span>长和宽可以是整数或小数。</span></p></blockquote><h4 id='画布-颜色-a-16进制颜色码'><span>$画布 颜色 A 16进制颜色码$</span></h4><p><span>定义 </span><code>A</code><span> 画布的背景颜色</span></p><h4 id='画布-文字-a-文字-x-y-16进制颜色码-size-字体文件路径可选）'><span>$画布 文字 A 文字 X Y 16进制颜色码 size 字体文件路径（可选）$</span></h4><p><span>在 </span><code>A</code><span> 画布打印文字。</span></p><blockquote><p><span>参数说明：</span></p><p><span>【文字】需要打印的文字</span></p><p><span>【X】文字打印的X轴</span></p><p><span>【Y】文字打印的Y轴</span></p><p><span>【</span><a href='https://baike.baidu.com/item/十六进制颜色码/10894232'><span>16进制颜色码</span></a><span>】画布的颜色</span></p><p><span>【size】文字打印的大小</span></p><p><span>【字体文件路径（可选）】字体文件的绝对路径</span></p><p><span>示例：$画布 文字 A Riko 100 100 FFB6C1 100$</span></p></blockquote><h4 id='画布-文字换行-a-文字-自动换行长度-x-y-16进制颜色码-size-字体文件路径可选）'><span>$画布 文字换行 A 文字 自动换行长度 X Y 16进制颜色码 size 字体文件路径（可选）$</span></h4><blockquote><p><span>在 </span><code>A</code><span> 画布打印会自动换行的文字。</span></p><p><span>参数说明：</span></p><p><span>【文字】需要打印的文字（可携带换行符\n）</span></p><p><span>【自动换行长度】自动换行的长度</span></p><p><span>【X】文字打印的X轴</span></p><p><span>【Y】文字打印的Y轴</span></p><p><span>【</span><a href='https://baike.baidu.com/item/十六进制颜色码/10894232'><span>16进制颜色码</span></a><span>】画布的颜色</span></p><p><span>【size】文字打印的大小</span></p><p><span>【字体文件路径（可选）】字体文件的绝对路径</span></p><p><span>示例：$画布 文字换行 A Riko\n是猪 400 100 100  FFB6C1 100$</span></p></blockquote><h4 id='图片参数-图片的绝对路径'><span>$图片参数 图片的绝对路径$</span></h4><blockquote><p><span>获取图片的长和宽数组</span></p><p><span>示例：</span></p><p><span>A:$图片参数 /mnt/sdcard/QR/tu.png$</span></p><p><span>@A[Width]\n</span>
<span>@A[Height]</span></p><p><span>没有图片的话会报错</span></p></blockquote><h4 id='画布-图片-a-图片绝对路径-x-y-w-h-x1-y1-x2-y2'><span>$画布 图片 A 图片绝对路径 X Y W H X1 Y1 X2 Y2$</span></h4><blockquote><p><span>在 </span><code>A</code><span> 画布上打印图片</span></p><p><span>参数说明：</span></p><p><span>【图片绝对路径】需要打印的图片路径</span></p><p><span>【X】图片打印的X轴</span></p><p><span>【Y】图片打印的Y轴</span></p><p><span>【W】图片的宽度</span></p><p><span>【H】图片的高度</span></p><p><span>【X1】图片在画布的左上角X轴坐标</span></p><p><span>【Y1】图片在画布的左上角Y轴坐标</span></p><p><span>【X2】图片在画布的右下角X轴坐标</span></p><p><span>【Y2】图片在画布的右下角Y轴坐标</span></p><p><span>示例：</span></p><p><span>$画布 图片 A /mnt/sdcard/QR/tu.png 0 0 100 100 50 50 650 650$</span></p></blockquote><h4 id='画布-保存-a-图片保存绝对路径'><span>$画布 保存 A 图片保存绝对路径$</span></h4><p><span>将 </span><code>A</code><span> 画布中的图像保存。</span></p><blockquote><p><span>无法自行创建路径，只能保存在已存在文件夹。</span></p></blockquote><hr /><h2 id='转义字符'><span>转义字符</span></h2><p><code>\r</code><span> </span><code>\n</code><span> </span><code>\r\n</code><span> 换行符</span></p><p><code>\%0A</code><span> 换行符</span>
<code>\%25</code><span> 百分号</span>
<code>\%20</code><span> 空格</span></p><blockquote><p><span>「\%xx」为 UTF-8 百分号编码的字符。</span></p></blockquote><hr /><h2 id='特殊关键词前缀'><span>特殊关键词前缀</span></h2><blockquote><p><span>注:</span></p></blockquote><blockquote><p><span>[</span><span>xx</span><span>]</span><span>xxx</span>
<span>表示前缀后需要加触发词，如：</span></p><p><span>[群].</span><span>*</span><span>你好.</span><span>*</span>
<span>你好呀。</span></p></blockquote><blockquote><p><span>[</span><span>xx</span><span>]</span>
<span>表示单独使用前缀即可，如：</span></p><p><span>[退群]</span>
<span>有人退群了。</span></p></blockquote><hr /><h3 id='特殊事件'><span>特殊事件</span></h3><hr /><h4 id='系统'><span>[系统]</span></h4><p><span>进群等系统通知触发。</span></p><hr /><h4 id='退群'><span>[退群]</span></h4><p><span>成员退群触发。</span></p><hr /><h4 id='撤回xxx-授权专用'><span>[撤回]xxx </span><small><small><span style="color:#848484;"><code>授权专用</code></span></small></small></h4><p><span>有人（包括机器人自己）撤回消息时触发。</span></p><h4 id='红包'><span>[红包]</span></h4><p><span>有人发送红包时触发。</span></p><blockquote><p><span>QR 甚至可以撤回红包。（不过好像还是可以在群未领红包里领到？）</span></p></blockquote><hr /><h4 id='戳一戳'><span>[戳一戳]</span></h4><p><span>检测戳一戳消息</span></p><p><span>%QQ%获取戳一戳的戳方</span></p><p><span>%Code%获取戳一戳的被戳方</span></p><blockquote><p><span>使用此标签请勿使用 Android Pad 、Android Watch 协议登录。</span></p></blockquote><blockquote><p><span>部分小标签消息和群打卡消息也会触发戳一戳事件，但 </span><code>%QQ%</code><span> </span><code>%Code%</code><span> 获取不到对应的 QQ 号。可以在让机器人回复前判断 </span><code>%QQ%</code><span> 是否存在。</span></p></blockquote><hr /><h4 id='上下管理'><span>[上下管理]</span></h4><p><span>检测QQ群管理变动。</span></p><blockquote><p><span>示例:</span></p></blockquote><blockquote><p><span>[上下管理]</span>
<span>如果:%Value%==1</span>
<span>%昵称% 成为了管理员。</span>
<span>返回</span>
<span>如果尾</span>
<span>如果:%Value%==0</span>
<span>%昵称% 不再是管理员了。</span></p></blockquote><hr /><h3 id='消息来源'><span>消息来源</span></h3><h4 id='群xxx'><span>[群]xxx</span></h4><h4 id='好友xxx'><span>[好友]xxx</span></h4><h4 id='临时xxx'><span>[临时]xxx</span></h4><p><span>只会被对应来源的消息触发。</span></p><hr /><h3 id='其他前缀'><span>其他前缀</span></h3><h4 id='内部xxx'><span>[内部]xxx</span></h4><p><span>只能通过 </span><code>$调用 xxx$</code><span> </span><code>$回调 xxx$</code><span> </span><code>$回调内部 xxx$</code><span> 触发，不会被 QQ 消息触发。</span></p><hr /><h4 id='初始化'><span>[初始化]</span></h4><p><em><span>QRSpeed词库插件</span></em><span> 每次开始运行（重启、重连）时触发一次。</span></p><blockquote><p><span>因为不是在特定群执行，所以许多函数、变量无法使用。</span></p></blockquote><h4 id='群初始化'><span>[群初始化]</span></h4><p><em><span>QRSpeed词库插件</span></em><span> 每次开始运行（重启、重连）时每个群触发一次。</span></p><hr /><h4 id='总处理'><span>[总处理]</span></h4><p><span>所有消息都会经过这里进行处理</span></p><blockquote><p><span>【放至词库文件初始位置既所有消息均会触发 </span><code>[总处理]</code><span> 进行处理】     </span><br/><span>【放至词库文件末尾既除指令外的所有消息均会触发 </span><code>[总处理]</code><span> 进行处理】</span>
<span>约等于一个通配符【但是请不要把通配当 </span><code>[总处理]</code><span> 使用，会裂开的】</span></p></blockquote><hr /><h2 id='运算符'><span>运算符</span></h2><h3 id='数学运算符'><span>数学运算符</span></h3><h4 id='算术运算格式'><span>算术运算格式</span></h4><p><span>可以进行混合运算，默认舍去小数部分。</span></p><blockquote><p><span>示例：</span></p><p><span>[1+2]</span>
<span>[3-2]</span>
<span>[2*(2+3)/2]</span></p></blockquote><h4 id='基础运算符'><span>基础运算符</span></h4><p><code>+</code><span> 加法</span></p><p><code>-</code><span> 减法</span></p><p><code>*</code><span> 乘法</span></p><p><code>/</code><span> 除法</span></p><p><code>^</code><span> 乘方</span></p><h4 id='其他运算符'><span>其他运算符</span></h4><p><code>%</code><span> 取余数</span></p><blockquote><p><span>取余运算符后，本行不能接变量。</span></p><p><big style='color:red'><span>☒</span></big><strong><span>错误</span></strong><span>示例：[62%%a%]</span>
<big style='color:red'><span>☒</span></big><strong><span>错误</span></strong><span>示例：[62%3]，%昵称%</span></p></blockquote><p><code>log%a%</code><span> </span><code>lg%a%</code><span> 计算以 10 为底 </span><code>%a%</code><span> 的对数。</span></p><p><code>ln%a%</code><span> 计算以 e 为底 </span><code>%a%</code><span> 的对数。</span></p><p><code>sqrt%a%</code><span> 计算对 </span><code>%a%</code><span> 开平方得到的结果。</span></p><blockquote><p><code>log%a%</code><span> </span><code>lg%a%</code><span> </span><code>ln%a%</code><span> </span><code>sqrt%a%</code><span> 参数小于 0 时计算结果为 0。</span></p></blockquote><p><code>sin%a%</code><span> </span><code>cos%a%</code><span> </span><code>tan%a%</code><span> 计算 </span><code>%a%</code><span> 的对应三角函数值，参数 </span><code>%a%</code><span> 为角度制。</span></p><p><code>&amp;</code><span> 按位与</span></p><p><code>|</code><span> 按位或</span></p><blockquote><p><span>如果想了解 </span><code>&amp;</code><span> 与 </span><code>|</code><span> 的运算方式，请 </span><a href='https://www.baidu.com/s?wd=位运算'><span>百度搜索位运算</span></a><span> 。</span></p></blockquote><blockquote><p><span>此处 </span><code>&amp;</code><span> </span><code>|</code><span> 与 </span><a href='#逻辑运算符'><span>逻辑运算符</span></a><span> 中的 </span><code>&amp;</code><span> </span><code>|</code><span> 意义并不相同。</span></p></blockquote><hr /><h4 id='高级运算'><span>高级运算</span></h4><p><span>[decimal-最低显示位数-最高显示的位数（试到320）-舍入方法（默认为）-舍入执行的位数（不填默认为显示位数）:算式]</span></p><blockquote><p><span>高级计算调用 </span><em><span>java.math.BigDecimal</span></em><span> 类对数字进行运算。</span></p></blockquote><blockquote><p><span>示例：</span></p><p><span>[decimal-0-16-DOWN-3:1+1+1]</span></p></blockquote><h5 id='舍入模式'><span>舍入模式</span></h5><p><code>UP</code><span> 使结果的绝对值尽量大。</span></p><blockquote><p><span>示例（舍入至个位，下同）：</span><code>1.1 → 2</code><span> </span><code>-1.1 → -2</code></p></blockquote><p><code>DOWN</code><span> 使结果的绝对值尽量小。</span></p><blockquote><p><span>示例： </span><code>1.9 → 1</code><span> </span><code>-1.9 → -1</code></p></blockquote><p><code>CEILING</code><span> 使结果尽量大。</span></p><blockquote><p><span>示例： </span><code>1.1 → 2</code><span> </span><code>-1.9 → -1</code></p></blockquote><p><code>FLOOR</code><span> 使结果尽量小。</span></p><blockquote><p><span>示例： </span><code>1.9 → 1</code><span> </span><code>-1.1 → -2</code></p></blockquote><p><code>HALF_UP</code><span> 4 舍 5 入。</span></p><blockquote><p><span>示例： </span><code>1.4 → 1</code><span> </span><code>-1.4 → -1</code><span> </span><code>1.5 → 2</code><span> </span><code>-1.5 → -2</code></p></blockquote><p><code>HALF_DOWN</code><span> 5 舍 6 入。</span></p><blockquote><p><span>示例： </span><code>1.5 → 1</code><span> </span><code>-1.5 → -1</code><span> </span><code>1.6 → 2</code><span> </span><code>-1.6 → -2</code></p></blockquote><p><code>HALF_EVEN</code><span> 4 舍 6 入。若为 5 则使舍入后的最后一位为偶数。</span></p><blockquote><p><span>众所周知，</span><code>0</code><span> 是偶数。</span></p></blockquote><blockquote><p><span>示例： </span><code>1.5 → 2</code><span> </span><code>2.5 → 2</code><span>  </span><code>1.4 → 1</code><span> </span><code>1.6 → 2</code></p></blockquote><blockquote><p><code>UNNECESSARY</code></p><p><span>断言请求的操作具有精确的结果，因此不需要舍入。</span></p></blockquote><figure><table><thead><tr><th><span>数字/舍入方式</span></th><th><span>-2.4</span></th><th><span>-2.5</span></th><th><span>-2.6</span></th><th><span>-1.4</span></th><th><span>-1.5</span></th><th><span>-1.6</span></th></tr></thead><tbody><tr><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr></tbody></table></figure><p>&nbsp;</p><hr /><h3 id='逻辑运算符与条件语句'><span>逻辑运算符与条件语句</span></h3><h4 id='关系运算符'><span>关系运算符</span></h4><p><code>&lt;</code><span> 小于</span>
<code>&gt;</code><span> 大于</span>
<code>&lt;=</code><span> 小于等于</span>
<code>&gt;=</code><span> 大于等于</span>
<code>==</code><span> 等于</span>
<code>!=</code><span> 不等于</span></p><h4 id='逻辑运算符'><span>逻辑运算符</span></h4><p><code>|</code><span> 逻辑或</span>
<code>&amp;</code><span> 逻辑与</span></p><blockquote><p><span>QR 中，逻辑运算从左到右依次运行，不支持括号。</span></p><p><span>因此</span>
<code>%a%==1&amp;%b%==2|%c%==3&amp;%d%==4</code>
<span>运算顺序为</span>
<code>((%a%==1&amp;%b%==2)|%c%==3)&amp;%d%==4</code></p></blockquote><blockquote><p><span>不知道什么是逻辑运算？请查阅高中数学课本或 </span><a href='https://www.baidu.com/'><span>百度一下</span></a><span> 。</span></p></blockquote><h4 id='条件语句关键字'><span>条件语句关键字</span></h4><h5 id='如果'><span>如果:</span></h5><p><span>判断其后的表达式是否成立。</span></p><p><span>如果成立则执行接下来的语句；否则跳转到对应的「如果尾」继续执行。</span></p><h5 id='正则'><span>正则:</span></h5><p><span>判断其后的表达式是否成立。如果表达式中的关系运算符为 </span><code>==</code><span> 或 </span><code>!=</code><span> ，则以 </span><code>==</code><span> 或 </span><code>!=</code><span> 后的字符串作为正则表达式匹配前面的字符串。</span></p><p><span>如果成立则执行接下来的语句；否则跳转到对应的「如果尾」继续执行。</span></p><blockquote><p><span>如果以文本形式作为参数的正则表达式中包含 </span><code>|</code><span> ，会被识别成逻辑运算符。建议使用变量避免这个问题。如：</span></p><p><span>测试reg</span>
<span>a:(123|456)</span>
<span>正则:456==%a%</span>
<span>成功匹配</span>
<span>如果尾</span></p></blockquote><hr /><h5 id='如果尾'><span>如果尾</span></h5><h5 id='正则尾'><span>正则尾</span></h5><blockquote><p><span>「如果尾」已经在「如果:」「正则:」中介绍。</span></p><p><span>「正则尾」与「如果尾」完全等价，二者都可以用于「如果:」与「正则:」语句。</span></p><blockquote><p><span>Pro 新增的正则尾大概是怕如果尾被写错…</span></p></blockquote></blockquote><hr /><h2 id='其他关键字'><span>其他关键字</span></h2><blockquote><p><span>本来想单独开一个关键字分区，但是许多关键字似乎更适合与相关内容一起介绍…</span></p></blockquote><hr /><h4 ><span>:</span></h4><p><span>当 </span><code>:</code><span> 为非触发词的某一行的第二个字符时，则将 </span><code>:</code><span> 后面的值赋值给 </span><code>:</code><span> 前方的变量。</span></p><blockquote><p><span>测试var</span>
<span>a:100</span>
<span>a的值为%a%。</span></p></blockquote><h4 id='±'><span>±</span></h4><p><span>消息的分隔符。</span><code>±</code><span> 前后的文本会分开放入 </span><em><span>输出缓冲区</span><span>*</span></em><span> 中，最终一起输出。</span></p><blockquote><p><span>*实际上我也不知道该叫它什么。</span></p></blockquote><blockquote><p><span>实际上 </span><a href=''><span>消息内容操作函数</span></a><span> </span><a href=''><span>消息发送函数</span></a><span> 中的部分函数所带有的 </span><code>±</code><span> 也是起到分隔与识别的作用。</span></p></blockquote><hr /><h2 id='其他知识'><span>其他知识</span></h2><h3 id='a-idregexa正则表达式基础'><a id="regex"></a><span>正则表达式基础</span></h3><h4 id='简介'><span>简介</span></h4><p><span>QR 中的触发词使用正则表达式进行匹配。即使你不知道什么是正则表达式，你也很可能在 QR 中使用过它。</span></p><p><span>如：</span><code>.*早上好.*</code><span> </span><code>我想.*</code>
<span>你可能已经知道，</span><code>.*</code><span> 指代 </span><em><span>任意数量的任意字符</span></em><span> </span><sup><span>①</span></sup><span> 。实际上，它就是简单的正则表达式。</span></p><blockquote><p><small><span>① 严格来说并非如此。我们将在下面讲到，</span><code>.*</code><span> 并不能匹配换行符 </span><code>\n</code><span>。</span></small></p></blockquote><p><span>在正则表达式中，具有特殊意义的字符被称为「元字符」。接下来将简单介绍常用的元字符的用法。</span></p><h4 id='元字符'><span>元字符</span></h4><h5 id='匹配某些字符'><span>匹配某些字符</span></h5><p><code>\w</code><span>	</span><span>匹配 </span><em><span>文字、数字、下划线</span></em><span>。</span>
<code>\W</code><span>	</span><span>匹配 </span><code>\w</code><span> 不能匹配的字符。</span></p><p><code>\d</code><span>	</span><span>匹配 </span><em><span>数字</span></em><span>。</span>
<code>\D</code><span>	</span><span>匹配 </span><code>\d</code><span> 不能匹配的字符。</span></p><p><code>\s</code><span>	</span><span>匹配 </span><em><span>空白字符</span></em><span>（包括空格、换行等）。</span>
<code>\S</code><span>	</span><span>你猜得没错，匹配 </span><code>\s</code><span> 不能匹配的字符。</span></p><p><code>\n</code><span>	</span><span>匹配 </span><em><span>换行符</span></em><span>。</span>
<code>\r</code><span>	</span><span>匹配 </span><em><span>回车符</span></em><span>。</span></p><blockquote><p><span>QQ 中，手机发送的换行为换行符 </span><code>\n</code><span> ，而电脑发送的换行为回车符 </span><code>\r</code><span>。</span>
<span>因此，防止电脑端无法触发指令，我们更建议使用 </span><code>[\n\r]</code><span> 来匹配换行。</span></p></blockquote><p><code>[]</code><span> 根据方括号的内容匹配 </span><em><span>部分字符</span></em><span>。</span></p><blockquote><p><span>如：</span></p><p><code>[abcde]</code><span>	</span><span>匹配 </span><code>a</code><span> </span><code>b</code><span> </span><code>c</code><span> </span><code>d</code><span> </span><code>e</code><span>中的任意一个字符。它可以匹配 </span><code>a</code><span> </span><code>b</code><span> </span><code>c</code><span> </span><code>d</code><span> 或 </span><code>e</code><span>，而不能匹配 </span><code>f</code><span> </span><code>abc</code><span>。</span>
<code>[^xyz]</code><span>	</span><span>匹配除 </span><code>x</code><span> </span><code>y</code><span> </span><code>z</code><span> 之外的任意一个字符。它可以匹配 </span><code>a</code><span> </span><code>3</code><span> </span><code>/</code><span> </span><code>之</code><span> 或 </span><code>こ</code><span> 等，而不能匹配 </span><code>x</code><span> </span><code>abc</code><span>。</span></p></blockquote><p><code>.</code><span>	</span><span>匹配除换行符 </span><code>\n</code><span> 外的 </span><em><span>任意字符</span></em><span>。</span></p><blockquote><p><code>.</code><span> 与数量限制元字符 </span><code>*</code><span> 组合成 </span><code>.*</code><span> 被一些人称为「通配符」，它可以匹配任意不带换行的文本；</span>
<span>但是，更加通配的明显是 </span><code>[\s\S]*</code><span>  </span><code>[\d\D]*</code><span> 或 </span><code>[\w\W]*</code><span> 等，它们可以匹配任意文本。</span></p></blockquote><blockquote><p><span>当单独出现的「通配符」如 </span><code>.*</code><span> </span><code>[\s\S]*</code><span> 等作为触发词时，该触发词下方的触发词几乎都不会被触发。</span>
<span>因此，词库中最好只出现至多一次的「通配符」且仅将它放在词库的最下方。</span></p></blockquote><h5 id='数量限制'><span>数量限制</span></h5><p><code>{4}</code><span>	</span><span>限制前方元素出现 4 次。如：</span><code>\d{4}</code><span> 匹配 4 个数字；</span><code>(abc){2}</code><span> 匹配 </span><code>abcabc</code><span> 。</span>
<code>{1,4}</code><span>	</span><span>限制出现 1-4 次。如：</span><code>\d{1,4}</code><span> 匹配 1-4 个数字；</span><code>[abc]{2}</code><span> 匹配 </span><code>aa</code><span> </span><code>bb</code><span> </span><code>ac</code><span> </span><code>bc</code><span> 等。</span>
<code>{4,}</code><span>	</span><span>限制出现 4 次或更多次。如：</span><code>\d{4,}</code><span> 四位及以上数字；</span><code>(苹果|apple){2,}</code><span> 匹配 </span><code>apple苹果</code><span> </span><code>appleapple苹果</code><span> </span><code>苹果apple苹果苹果apple</code><span> 等。</span></p><p><code>?</code><span>	</span><span>限制出现 0 次或 1 次。相当于 </span><code>{0,1}</code><span> 。</span>
<code>+</code><span>	</span><span>限制出现 1 次或更多次。相当于 </span><code>{1,}</code><span> 。</span>
<code>*</code><span>	</span><span>限制出现 0 次或更多次。相当于 </span><code>{0,}</code><span> 。</span></p><h4 id='正则表达式触发词实例'><span>正则表达式触发词实例</span></h4><p><span>你可以尝试以下代码：</span></p><p><span>(无路赛){2,}</span>
<span>测试成功了，你个傲娇。</span></p><p><span>(\w)\n是\n笨\n蛋</span>
<span>如果:%括号1%==你</span>
<span>虽然很不情愿，但是</span>
<span>如果尾</span>
<span>测试成功了。</span></p><p><span>([你我他]不?)是笨蛋\W*</span>
<span>如果:%括号1%==你不|%括号1%==我|%括号1%==他</span>
<span>那当然！</span>
<span>返回</span>
<span>如果尾</span>
<span>这怎么可能呢？</span></p><p><span>戳了你(\d+)次(\W*)</span>
<span>捶了你%括号1%天%括号2%</span></p><p><span>点歌\s*(.+)</span>
<span>你点了一首「%括号1%」</span></p><h4 id='转义符-'><span>转义符 </span><code>\</code></h4><p><span>转义符本应放在 </span><em><span>元字符</span></em><span> 中介绍的。但是为了不打断学习的连续性，我们把转义符从 </span><em><span>元字符</span></em><span> 中独立了出来。</span></p><p><span>我们先来看一个例子：</span></p><blockquote><p><span>一只小可爱 A 想写一个骰子。他选择了 </span><code>.r</code><span> 来作为掷骰子的触发词。</span></p><p><span>测试之后，他发现骰子没有问题，便在群内开放使用了。</span></p><p><span>第二天，大家在群里聊天：</span></p><blockquote><p><span>B：「A 劳斯您好，您家崽人设是您自己画的对叭？！太神仙了呜呜呜，请问您接单吗？」</span></p><p><span>A：「接。」</span></p><p><span>B：「多少钱呀？」</span></p><p><span style="color:#FF7777;"><span>A：「1r」</span></span></p><p><span style="color:#FF7777;"><span>机器人：「@A 1d100 = 32」</span></span></p><p><span>A：？</span></p></blockquote><p><em><strong><span>内容完全虚构，若有雷同，纯属我太聪明了wwwwwww</span></strong></em></p></blockquote><p><span>在正则表达式中， </span><code>.</code><span> 表示的是一个任意非换行字符。因此，</span><code>1r</code><span> 可以被 </span><code>.r</code><span> 匹配，触发了指令。</span></p><p><span>一些字符（如 </span><code>.</code><span> </span><code>(</code><span> </span><code>+</code><span> 等）由于成为了 </span><em><span>元字符</span></em><span> 而被赋予了特殊含义，从而不再代表这些字符本身。</span></p><p><span>那么如何匹配这些字符本身呢？答案很简单，我们只需要在元字符前加上 </span><em><span>转义符</span></em><span> </span><code>\</code><span>。</span></p><p><span>在这个例子中，如果将词库中的触发词改为 </span><code>\.r</code><span>，就只有 </span><em><span>.r</span></em><span> 才可以触发骰子了。</span></p><h4 id='完整的正则表达式教程'><span>完整的正则表达式教程</span></h4><p><em><strong><a href='https://www.runoob.com/regexp/regexp-tutorial.html'><span>点我</span></a><span>查看。</span></strong></em></p><hr /><h3 id='qr-中的-json'><span>QR 中的 JSON</span></h3><h4 id='关于-json'><span>关于 JSON</span></h4><p><a href='https://baike.baidu.com/item/JSON/2462549'><span>百度百科</span></a></p><p><a href='https://m.sojson.com/'><span> JSON 在线格式化工具</span></a></p><blockquote><p><span>当你拿到一串 JSON 时，给人的直观感受很可能是「乱糟糟的一团」；</span>
<span>这时，你可以使用  JSON 格式化工具 将其格式化，以直观地看到 JSON 的层次结构。</span></p><p><span>同时，你也可以用 JSON 格式化工具来检查自己的 JSON 是否包含语法错误。</span></p></blockquote><hr /><h4 id='json-操作代码示例'><span>JSON 操作代码示例</span></h4><h5 id='json-添加-a-1'><span>$JSON 添加 A 1$</span></h5><blockquote><p><span>JSON添加1</span>
<span>A:[1,2,3]</span>
<span>$JSON 添加 A 9$</span>
<span>%A%</span></p></blockquote><hr /><h5 id='json-添加-a-1-1'><span>$JSON 添加 A 1 1$</span></h5><blockquote><p><span>JSON添加2</span>
<span>A:[1,2,3]</span>
<span>B:{&quot;玖&quot;:&quot;1&quot;,&quot;安&quot;:&quot;an&quot;}</span>
<span>$JSON 添加 A 1 a$</span>
<span>$JSON 添加 B 玖 9$</span>
<span>$JSON 添加 B 玖玖 安安$</span>
<span>A：%A%\n</span>
<span>B：%B%</span></p></blockquote><hr /><h5 id='json-获取-a-1-2'><span>$JSON 获取 A 1$</span></h5><blockquote><p><span>JSON获取</span>
<span>A:[1,&quot;8&quot;,3]</span>
<span>B:{&quot;玖&quot;:&quot;9&quot;,&quot;安&quot;:&quot;an&quot;,&quot;玖玖&quot;:&quot;安安&quot;}</span>
<span>$JSON 获取 A 1$\n</span>
<span>$JSON 获取 B 玖$</span></p></blockquote><hr /><h5 id='json-删除-a-1-2'><span>$JSON 删除 A 1$</span></h5><blockquote><p><span>JSON删除</span>
<span>A:[1,&quot;8&quot;,3]</span>
<span>B:{&quot;玖&quot;:&quot;9&quot;,&quot;安&quot;:&quot;an&quot;,&quot;玖玖&quot;:&quot;安安&quot;,&quot;an&quot;:&quot;annie&quot;}</span>
<span>$JSON 删除 A 1$</span>
<span>$JSON 删除 B an$</span>
<span>A：%A%\n</span>
<span>B：%B%</span></p></blockquote><hr /><h5 id='json-长度-a-2'><span>$JSON 长度 A$</span></h5><blockquote><p><span>JSON长度</span>
<span>A:[1,&quot;8&quot;,3]</span>
<span>B:{&quot;玖&quot;:&quot;9&quot;,&quot;安&quot;:&quot;an&quot;,&quot;玖玖&quot;:&quot;安安&quot;,&quot;an&quot;:&quot;annie&quot;}</span>
<span>$JSON 长度 A$\n</span>
<span>$JSON 长度 B$</span></p></blockquote><hr /><h2 id='qq-官方-api'><span>QQ 官方 API</span></h2><hr /><h4 id='±imghttpq2qlogocnheadimgdldstuinqqspec5±'><span>±img=</span><a href='http://q2.qlogo.cn/headimg_dl?dst_uin=%QQ%&amp;spec=5' target='_blank' class='url'>http://q2.qlogo.cn/headimg_dl?dst_uin=%QQ%&spec=5</a><span>±</span></h4><p><span>获取发言人头像。</span></p><hr /><h4 id='±imghttppqlogocngh群号群号±'><span>±img=</span><a href='http://p.qlogo.cn/gh/%群号%/%群号%/'><span>http://p.qlogo.cn/gh/%群号%/%群号%/</span></a><span>±</span></h4><p><span>获取群头像。</span></p><hr /><h2 id='时间变量详解'><span>时间变量详解</span></h2><blockquote><p><em><span>从 </span><code>%时间%</code><span> 过来却看晕了？</span><a href='#%时间%'><span>点我</span></a><span>返回 </span><code>%时间%</code><span> 变量。</span></em><span>（劝退?）</span></p></blockquote><p><code>%时间%</code><span> 变量里有很多保留字符。使用 </span><code>%时间%</code><span> 变量时，保留字符会被替换为对应值，而其他字符保持不变。</span></p><blockquote><p><span>这样说可能有些抽象，这里先放示例。</span>
<span>你可以通过尝试下方的代码，了解 </span><code>%时间%</code><span> 变量的用法。</span></p><p><span>时间变量测试</span>
<span>%时间HHmm%\n</span>
<span>%时间yyyy年MM月dd日 HH:mm:ss%\n</span>
<span>%时间现在时间ah时m分s秒%</span></p></blockquote><p><span>接下来将具体说明 </span><code>%时间%</code><span> 变量中的的保留字符。</span></p><blockquote><p><em><strong><span>如果 </span><code>%时间%</code><span> 变量中带有保留字符之外的 英文字母（如：</span><code>%时间AAHHmmss%</code><span>），会报错并使整段代码不可用。</span></strong></em></p><p><em><strong><span>在这种情况下，你可以使用单引号 </span><code>&#39;</code><span> 包裹住不想被转换为时间的部分，以期其不会被格式化解释；而连续的两个单引号 </span><code>&#39;&#39;</code><span> 则会被转换为输出结果中的一个单引号 </span><code>&#39;</code><span>。这种方法也适用于保留字符。（如：</span><code>%时间&#39;AA&#39;HH&#39;&#39;mm&#39;ss&#39;%</code><span>）</span></strong></em></p></blockquote><h4 id='基础时间变量'><span>基础时间变量</span></h4><p><span>时间格式化函数（</span><code>$时间 yyyy-MM-dd$</code><span> </span><code>$时间格式 %NDTime% yyyy-MM-dd$</code><span>）中，</span><code>yyyy-MM-dd</code><span> 这部分内容被称为格式化字符串。</span></p><p><span>由于格式化字符串中的许多关键字很少用到且规则复杂，这里只介绍一些简单的时间格式。想具体了解，请点击 </span><a href='#时间格式化详解'><span>时间格式化详解</span></a><span> 查看。</span></p><blockquote><p><span>使用示例：</span></p><p><span>测试time</span>
<span>$时间 HHmm$\n</span>
<span>$时间 yyyy-MM-dd HH:mm:ss.SSS E$\n</span>
<span>$时间 时间现在时间ahh时mm分ss秒$</span></p></blockquote><p><span>以下介绍一些常用的关键字。将关键字放入格式化字符串中，就会被替换为对应的时间。</span></p><p><code>yyyy</code><span> 年</span></p><p><code>MM</code><span> 月</span></p><p><code>dd</code><span> 日</span></p><p><code>HH</code><span> 时：24 小时制</span>
<code>hh</code><span> 时：12 小时制</span></p><p><code>mm</code><span> 分</span></p><p><code>ss</code><span> 秒</span></p><p><code>E</code><span> 星期</span></p><p><code>a</code><span> 半日（上午/下午）</span></p><h4 id='更多时间变量'><span>更多时间变量</span></h4><blockquote><p><span>部分时间变量存在 </span><em><span>补 0 规则</span></em><span>。</span></p><p><span>你可以通过以下示例来了解补 0 规则：</span></p><p><code>%时间y%</code><span> </span><code>%时间yyy%</code><span> </span><code>%时间yyyy%</code><span> 值为 2021</span>
<code>%时间yyyyy%</code><span> 值为 02021</span>
<code>%时间yyyyyy%</code><span> 值为 002021</span></p><p><span>除了少部分特殊字符组，大部分结果为 </span><em><span>纯数字</span></em><span> 的时间变量均具有 </span><em><span>补 0 规则</span></em><span> 。</span>
<span>为方便学习，具有 </span><em><span>补 0 规则</span></em><span> 的时间变量，将在「结果示例」中标注 </span><code>补0</code><span>。</span></p><p><span>未标注 </span><code>补0</code><span> 的变量，无论重复多少次字母均不会使结果变化。</span></p><p><span>如：</span><code>%时间GGG%</code><span> </span><code>%时间GGGGG%</code><span> 甚至 </span><code>%时间GGGGGGGGGGGGGGGG%</code><span> 结果均为 </span><em><span>公元</span></em><span>。</span></p></blockquote><blockquote><p><span>以下所有 </span><em><span>结果示例</span></em><span> 使用的示例时间为：</span>
<span>2021 年 2 月 19 日 18:03:25.876 GMT+8:00</span></p></blockquote><p><code>G</code><span> 历法</span></p><p><code>yy</code><span> 年</span></p><blockquote><p><span>结果示例：21</span></p></blockquote><p><code>y</code><span>  年</span></p><blockquote><p><span>结果示例：2021 </span><code>补0</code></p></blockquote><p><code>Y</code><span> 年，以本周最后一天的年份为准</span></p><blockquote><p><span>结果示例：2021 </span><code>补0</code></p></blockquote><p><code>M</code><span> </span><code>L</code><span> 月</span></p><blockquote><p><span>结果示例：2 </span><code>补0</code></p></blockquote><p><code>d</code><span> 日</span></p><blockquote><p><span>结果示例：19 </span><code>补0</code></p></blockquote><p><code>H</code><span> 小时：24 小时制（午夜为 0 点，没有 24 点）</span></p><blockquote><p><span>结果示例：18 </span><code>补0</code></p></blockquote><p><code>k</code><span> 小时：24 小时制（午夜为 24 点，没有 0 点）</span></p><blockquote><p><span>结果示例：18 </span><code>补0</code></p></blockquote><p><code>h</code><span> 小时：12小时制（午夜为 0 点，正午为 12 点）</span></p><blockquote><p><span>结果示例：6 </span><code>补0</code></p></blockquote><p><code>K</code><span> 小时：12小时制（午夜为 12 点，正午为 0 点）</span></p><blockquote><p><span>结果示例：6 </span><code>补0</code></p></blockquote><p><code>m</code><span> 分</span></p><blockquote><p><span>结果示例：3 </span><code>补0</code></p></blockquote><p><code>s</code><span> 秒</span></p><blockquote><p><span>结果示例：25 </span><code>补0</code></p></blockquote><p><code>a</code><span> 上午/下午</span></p><blockquote><p><span>结果示例：下午</span></p></blockquote><p><code>cccc</code><span> </span><code>EEEE</code><span> 星期</span></p><blockquote><p><span>结果示例：星期五</span></p></blockquote><p><code>ccccc</code><span> </span><code>EEEEE</code><span> 星期</span></p><blockquote><p><span>结果示例：五</span></p></blockquote><p><code>c</code><span> </span><code>E</code><span> </span><code>其他数量c</code><span> </span><code>其他数量E</code><span> 星期</span></p><blockquote><p><span>结果示例：周五</span></p></blockquote><p><code>u</code><span> 星期</span></p><blockquote><p><span>结果示例：5 </span><code>补0</code></p></blockquote><p><code>D</code><span> 今年第x天</span></p><blockquote><p><span>结果示例：50 </span><code>补0</code></p></blockquote><p><code>w</code><span> 今年第x个星期 日/一/二 …</span></p><blockquote><p><span>结果示例：8 </span><code>补0</code></p></blockquote><blockquote><p><span>类似于 </span><code>Y</code><span> </span><code>YY</code><span> ，以每周最后一天为年份标准。</span>
<span>例如，在 2021 年 12 月 29 日，该值为 1。</span></p></blockquote><p><code>W</code><span> 本月第x个星期 日/一/二 …</span></p><blockquote><p><span>结果示例：3 </span><code>补0</code></p></blockquote><p><code>F</code><span> 本月的第x个七天</span></p><blockquote><p><span>结果示例：3 </span><code>补0</code></p></blockquote><p><code>G</code><span> 历法</span></p><blockquote><p><span>结果示例：公元</span></p></blockquote><p><code>S</code><span> 十分之一秒</span></p><blockquote><p><span>结果示例：8</span></p></blockquote><p><code>SS</code><span> 百分之一秒</span></p><blockquote><p><span>结果示例：87</span></p></blockquote><p><code>SSS</code><span> 千分之一秒（毫秒）</span></p><blockquote><p><span>结果示例：876 </span><code>补0</code></p></blockquote><p><strong><code>z</code><span> </span><code>Z</code><span> </span><code>X</code><span> 系列：当前时区</span></strong></p><blockquote><p><code>z</code><span> 结果示例：+0800</span>
<code>zz</code><span> </span><code>zzz</code><span> 结果示例：GMT+08:00</span>
<code>zzzz</code><span> </span><code>更多z</code><span> 结果示例：中国标准时间</span></p><p><code>Z</code><span> </span><code>ZZ</code><span> </span><code>ZZZ</code><span> 结果示例：+0800</span>
<code>ZZZZ</code><span> 结果示例：GMT+08:00</span>
<code>更多Z</code><span> 结果示例：+08:00</span></p><p><code>X</code><span> 结果示例：+08 </span>
<code>XX</code><span> 结果示例：+0800 </span>
<code>XXX</code><span> 结果示例：+08:00</span>
<code>XXXX</code><span> </span><code>更多X</code><span> </span><em><strong><span>会！报！错！</span></strong></em></p><blockquote><p><span>z、Z 和 X 似乎是 </span><em><span>一般时区</span></em><span>、</span><em><span>RFC 822 时区</span></em><span> 和 </span><em><span>ISO 8601 时区</span></em><span> 的区别。</span>
<span>其中「一般时区」原文为</span><em><span>「General time zone」</span></em><span>，翻译可能有误。</span>
<span>虽然我也不知道他们之间有什么区别，但我先把它写在这。</span></p></blockquote></blockquote><hr /><h2 id='未整理杂项'><span>未整理&amp;杂项</span></h2><h3 id='红包转账相关'><span>红包/转账相关</span></h3><hr /><h4 id='转账检测'><span>转账检测</span></h4><p><span>[</span><span>转账</span><span>]</span><span>([\S\s]+)</span>
<span>如果:%Tfuin%!=</span>
<span>%Tfuin%\n</span>
<span>%Tfurl%\n</span>
<span>%Tftip%\n</span>
<span>%Tftitle%\n</span>
<span>%Tftext%\n</span>
<span>%TfAmounts%\n</span>
<span>如果尾</span></p><hr /><h4 id='查红包'><span>查红包</span></h4><p><span>$查红包 %群% %Skey% %Authkey% %Listid% A$</span>
<span>%A%</span></p><hr /><h3 id='卡片代码示例'><span>卡片代码示例</span></h3><blockquote><p><span>你需要使用 </span><a href='#cardpost'><span>这些</span></a><span> 函数来发送卡片。</span></p></blockquote><blockquote><p><span>卡片可能失效（屏蔽），因此这里不保证作为示例的卡片代码可用。</span></p></blockquote><h4 id='json-卡片'><span>JSON 卡片</span></h4><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="json"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="json"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">{<span class="cm-string cm-property">"app"</span>:<span class="cm-string">"com.tencent.miniapp"</span>,<span class="cm-string cm-property">"view"</span>:<span class="cm-string">"notification"</span>,<span class="cm-string cm-property">"meta"</span>:{<span class="cm-string cm-property">"notification"</span>:{<span class="cm-string cm-property">"appInfo"</span>:{<span class="cm-string cm-property">"appName"</span>:<span class="cm-string">"优质解答"</span>,<span class="cm-string cm-property">"iconUrl"</span>:<span class="cm-string">"https://icean.moe/res/0"</span>},<span class="cm-string cm-property">"button"</span>:[{<span class="cm-string cm-property">"name"</span>:<span class="cm-string">"一种植物"</span>}]}}}</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 44px;"></div><div class="CodeMirror-gutters" style="display: none; height: 44px;"></div></div></div></pre><hr /><h4 id='xml-卡片'><span>XML 卡片</span></h4><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="xml"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="xml"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-meta">&lt;?xml</span> <span class="cm-meta">version='1.0' encoding='UTF-8' standalone='yes' ?&gt;</span><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">msg</span> <span class="cm-attribute">servicetemplateaction</span>=<span class="cm-string">"viewMultiMsg"</span> <span class="cm-attribute">brief</span>=<span class="cm-string">"[聊天记录]"</span> <span class="cm-attribute">m_resm_fileName</span>=<span class="cm-string">"6931536343294312393"</span> <span class="cm-attribute">tSum</span>=<span class="cm-string">"1"</span> <span class="cm-attribute">sourceMsgurl</span>=<span class="cm-string">""</span> <span class="cm-attribute">flag</span>=<span class="cm-string">"3"</span> <span class="cm-attribute">adverSign</span>=<span class="cm-string">"0"</span> <span class="cm-attribute">multiMsgFlag</span>=<span class="cm-string">"0"</span><span class="cm-tag cm-bracket">&gt;&lt;</span><span class="cm-tag">item</span> <span class="cm-attribute">layout</span>=<span class="cm-string">"1"</span> <span class="cm-attribute">advertiser_amaxLines</span>=<span class="cm-string">"2"</span> <span class="cm-attribute">lineSpace</span>=<span class="cm-string">"12"</span><span class="cm-tag cm-bracket">&gt;</span>群聊的聊天记录<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag cm-error">title</span><span class="cm-tag cm-bracket cm-error">&gt;</span><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">title</span> <span class="cm-attribute">size</span>=<span class="cm-string">"26"</span> <span class="cm-attribute">color</span>=<span class="cm-string">"#777777"</span> <span class="cm-attribute">maxLines</span>=<span class="cm-string">"2"</span> <span class="cm-attribute">lineSpace</span>=<span class="cm-string">"12"</span><span class="cm-tag cm-bracket">&gt;</span>An!:  这是一张卡片<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">title</span><span class="cm-tag cm-bracket">&gt;&lt;</span><span class="cm-tag">hr</span> <span class="cm-attribute">hidden</span>=<span class="cm-string">"false"</span> <span class="cm-attribute">style</span>=<span class="cm-string">"0"</span> <span class="cm-tag cm-bracket">/&gt;&lt;</span><span class="cm-tag">summary</span> <span class="cm-attribute">size</span>=<span class="cm-string">"26"</span> <span class="cm-attribute">color</span>=<span class="cm-string">"#777777"</span><span class="cm-tag cm-bracket">&gt;</span>查看1条转发消息<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">summary</span><span class="cm-tag cm-bracket">&gt;&lt;/</span><span class="cm-tag cm-error">item</span><span class="cm-tag cm-bracket cm-error">&gt;</span><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">source</span> <span class="cm-attribute">name</span>=<span class="cm-string">"聊天记录"</span> <span class="cm-attribute">icon</span>=<span class="cm-string">""</span> <span class="cm-attribute">action</span>=<span class="cm-string">""</span> <span class="cm-attribute">app</span><span class="cm-tag cm-bracket cm-error">/&gt;</span><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag cm-error">msg</span><span class="cm-tag cm-bracket cm-error">&gt;</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 110px;"></div><div class="CodeMirror-gutters" style="display: none; height: 110px;"></div></div></div></pre><hr /><h2 id='废弃失效不明意义部分'><span>废弃&amp;失效&amp;不明意义部分</span></h2><h4 id='±ximgtype随机数40000-40005±'><del><span>±ximgtype=%随机数40000-40005%±</span></del></h4><p><del><span>定义秀图类型；已失效</span></del></p><blockquote><p><span>好像又能用了？我懒</span></p></blockquote><h4 id='number'><del><span>%Number%</span></del></h4><p><del><span>目前已知在红包消息中为 1，其他消息中为 0。QR 官方解释是红包金额，可能已废弃。</span></del></p><h4 id='pid'><del><span>%Pid%</span></del></h4><p><del><span>未知</span></del><span>；似乎是消息文本的「唯一」ID。相同的文本 </span><code>%Pid%</code><span> 相同，不同的文本 </span><code>%Pid%</code><span> 认为不同。</span></p><h4 id='strmsg'><del><span>%Strmsg%</span></del></h4><p><del><span>废弃</span></del></p><h4 id='±nick-测试昵称±'><del><span>±nick 测试昵称±</span></del></h4><p><del><span>废弃</span></del></p><h4 id='±title-测试±'><del><span>±title 测试±</span></del></h4><p><span>自定义头衔为「测试」，仅作用于当前一条消息。</span></p><p><span>失效。</span></p><blockquote><p><span>与群主设置的专属头衔不同，QR 设置的头衔可以超过 6 字限制。</span></p></blockquote><hr /><h4 id='抢红包'><span>抢红包</span></h4><p><del><span>$抢红包 %Groupid% %Skey% %Authkey% %Listid% %Number%$</span></del>
<del><span>$抢红包 %Groupid% %Skey% %Authkey% %Listid% %Number% A$</span></del></p><hr /><h4 id='发红包'><span>发红包</span></h4><p><del><span>##指定专属红包 8不指定 32口令红包 1024指定 65536语音红包</span></del>
<del><span>A:1024</span></del>
<del><span>##红包类型 1普通红包 2拼手气红包</span></del>
<del><span>B:2</span></del>
<del><span>##发送类型 1好友 3群 4非好友</span></del>
<del><span>C:3</span></del>
<del><span>##红包金额 分为单位</span></del>
<del><span>D:%随机数5-10%</span></del>
<del><span>##红包数量</span></del>
<del><span>E:1</span></del>
<del><span>##接收红包 群号或好友QQ号</span></del>
<del><span>F:%群号%</span></del>
<del><span>##红包标题 或 口令</span></del>
<del><span>G:我是红包</span></del>
<del><span>##指定发红包用|分割</span></del>
<del><span>H:%Code%</span></del></p><p><del><span>$红包 %A% %B% %C% %D% %E% %F% %G% %H%$</span></del></p><p><del><span>示例:</span></del></p><p><del><span>我要红包</span></del>
<del><span>$红包 1024 1 3 1 1 %群号% 你的红包 %QQ%$</span></del></p><hr /><h2 id='关于'><span>关于</span></h2><h3 id='关于变量大全编写'><span>关于变量大全编写</span></h3><h4 id='作者'><span>作者</span></h4><ul><li><code>An!</code><span> </span></li><li><code>阿玖</code></li><li><code>思思</code></li></ul><h4 id='编辑工具'><span>编辑工具</span></h4><p><a href='https://www.typora.io'><code>Typora</code></a></p><hr /><h3 id='关于共享'><span>关于共享</span></h3><blockquote><p><span>当前版本变量大全已经托管于 Github，你可以在 </span><a href='https://github.com/IceeAn/qrbldq'><span>这里</span></a><span> 找到本项目。</span></p></blockquote><h4 id='许可协议'><span>许可协议 </span><img src='icons/cc.svg' style="width:30px;height:30px;" ><span> </span><img src='icons/by.svg' style="width:30px;height:30px;" ><span> </span><img src='icons/sa.svg' style="width:30px;height:30px;" ></h4><p><span>本作品采用 </span><a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><span>知识共享 署名-相同方式共享 4.0 国际许可协议</span></a><span> 进行许可。</span></p><blockquote><p><span>如果你认为本文有不妥之处，可以对下载后的文件进行适当修改。修改后的文章仍应以 </span><a href='http://creativecommons.org/licenses/by-sa/4.0/'><span>此许可协议</span></a><span> 发布。</span></p><p><span>感谢你对知识共享的支持与对 QR 新人的帮助。</span></p></blockquote><h4 id='想要制作-变量大全安♡玖特别版-的网页镜像'><span>想要制作 </span><code>变量大全安♡玖特别版</code><span> 的网页镜像？</span></h4><p><span>你可以 </span><a href="res/bldqpro.zip" download="bldqpro.zip"><span>点此下载zip格式的整个网页</span></a><span>，解压后将原压缩包移动至 </span><code>res/bldqpro.zip</code><span> ，并在稍后上传到你的服务器。</span></p><p><span>如果想用其他 Markdown 编辑器重新渲染网页，你也可以 </span><a href="变量大全安♡玖特别版.md" download="变量大全安♡玖特别版.md"><span>点此下载 Markdown 文件</span></a><span>。</span></p><h4 id='想要以文件形式分享-变量大全安♡玖特别版'><span>想要以文件形式分享 </span><code>变量大全安♡玖特别版</code><span>？</span></h4><p><span>你可以选择下载以下一个或多个文档并上传到任何平台：</span></p><p><a href="https://pro.icean.moe/?req=变量大全安♡玖特别版.pdf" download="变量大全安♡玖特别版.pdf"><code>PDF 文档（推荐）</code></a><span> </span><a href="/" download="变量大全安♡玖特别版.html"><code>HTML 文档（推荐）</code></a><span> </span><a href="https://pro.icean.moe/?req=变量大全安♡玖特别版.docx" download="变量大全安♡玖特别版.docx"><code>Word 文档</code></a><span> </span><a href="https://pro.icean.moe/?req=变量大全安♡玖特别版.epub" download="变量大全安♡玖特别版.epub"><code>Epub 文档</code></a><span> </span><a href="https://pro.icean.moe/?req=变量大全安♡玖特别版.rtf" download="变量大全安♡玖特别版.rtf"><code>RTF 文档</code></a></p><blockquote><p><span>HTML 以外格式的文档不保证最新版本；其中 PDF 格式的文档较常更新，但仍可能会落后于最新版本 1-2 次修改。</span></p></blockquote><hr /><div class='footnotes-area'  ><hr/>
<div class='footnote-line'><span class='md-fn-count'>1</span> <span>一种摘要算法。</span> <a name='dfref-footnote-1' href='#ref-footnote-1' title='回到文档' class='reversefootnote' >↩</a> <a name='dfref-footnote-1-1' href='#ref-footnote-1-1' title='回到文档' class='reversefootnote' >↩</a> <a name='dfref-footnote-1-2' href='#ref-footnote-1-2' title='回到文档' class='reversefootnote' >↩</a></div>
<div class='footnote-line'><span class='md-fn-count'>2</span> <span>气泡 ID 手动获取方法：</span><code>在聊天界面双击想要获取 ID 的气泡→点按右下角「装扮」→点按气泡名称→点击右上角的「···」展开菜单→手指放在菜单第三行向左轻扫→轻触「复制链接」</code><span> 成功复制链接后，找合适的输入框粘贴刚刚复制的内容，可以在链接文本找到 </span><code>bubbleId=</code><span> ，其后紧跟的数字就是气泡 ID。</span> <a name='dfref-footnote-2' href='#ref-footnote-2' title='回到文档' class='reversefootnote' >↩</a> <a name='dfref-footnote-2-1' href='#ref-footnote-2-1' title='回到文档' class='reversefootnote' >↩</a> <a name='dfref-footnote-2-2' href='#ref-footnote-2-2' title='回到文档' class='reversefootnote' >↩</a></div>
<div class='footnote-line'><span class='md-fn-count'>3</span> <span>UNIX 时间戳：1970-01-01 00:00:00 GMT 至当前的总秒数。</span> <a name='dfref-footnote-3' href='#ref-footnote-3' title='回到文档' class='reversefootnote' >↩</a></div>
<div class='footnote-line'><span class='md-fn-count'>4</span> <span>一种常见编码方式。编码方式决定字符在计算机中的存储方式，使用错误的编码方式读取文件会出现乱码。</span> <a name='dfref-footnote-4' href='#ref-footnote-4' title='回到文档' class='reversefootnote' >↩</a> <a name='dfref-footnote-4-1' href='#ref-footnote-4-1' title='回到文档' class='reversefootnote' >↩</a></div>
<div class='footnote-line'><span class='md-fn-count'>5</span> <span>腾讯对「风险」QQ 号的一系列限制。</span> <a name='dfref-footnote-5' href='#ref-footnote-5' title='回到文档' class='reversefootnote' >↩</a></div>
<div class='footnote-line'><span class='md-fn-count'>6</span> <span>QQ 网页 cookie 的一部分，由 skey 通过某种摘要算法计算得出。</span> <a name='dfref-footnote-6' href='#ref-footnote-6' title='回到文档' class='reversefootnote' >↩</a></div></div></div></div>
</body>
</html>